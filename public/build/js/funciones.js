function sumarColumnaInputs(e,o){const t=document.querySelector(e+" tbody");let r=0;for(let e=0;e<t.rows.length;e++){let a=t.rows[e].cells[o];a="INPUT"===a.firstChild.tagName?a.firstChild:a.lastChild;r+=""===a.value?0:parseFloat(a.value)}return r}function sumarColumna(e,o){const t=document.querySelector(e+" tbody");let r=0;for(let e=0;e<t.rows.length;e++){const a=t.rows[e].cells[o];r+=""===a.textContent?0:extraerCaracteresNumber(a.textContent)}return r}function dividirPorcentaje(e,o,t){const r=document.querySelector(e+" tbody");for(let a=0;a<r.rows.length;a++)for(let n=t;n<r.rows[a].cells.length;n++){const s=sumarColumnaInputs(e,o),l=r.rows[a].cells[n-1].firstChild,c=(""===l.value?0:parseFloat(l.value))/s*100,i=isNaN(c)?0:c.toFixed(2);r.rows[a].cells[t].innerHTML=`<span>${i}%</span>`}}const formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function convertirValorMonetario(e){return formatter.format(e)}function extraerCaracteresNumber(e){let o=e.replaceAll(",","").replaceAll("$","");return parseFloat(o)}function almacenarObjeto(e,o){const t=document.querySelector(e+" tbody"),r=t.rows.length;let a,n=[],s=Object.keys(o);for(let e=0;e<r;e++){o={};let r=0;for(let n=0;n<t.rows[e].cells.length;n++){let l=t.rows[e].cells[n].lastChild;if(l=l&&"INPUT"===l.tagName?l:t.rows[e].cells[n].firstChild,null!==l&&"INPUT"===l.tagName){const e="number"===l.type?""===l.value?0:parseFloat(l.value):l.value;a=s[r],o[a]="text"===l.type?e:parseFloat(e),r++}}n.push(o)}return console.log(colecta),n}function eliminarUltimaFila(e,o,t=null,r=1){const a=document.querySelector(e+" tbody"),n=a.rows.length-1,s=a.children[n];a.children.length>r&&(s.remove(),o.pop()),t&&t(e),actualizarOperaciones(),console.log(colecta)}function getTotalSuperficie(){let e=document.querySelector("#tablaValorTierra #totalSuperficeHas");return totalSuperficeHas=""===e.textContent?0:parseFloat(e.textContent),totalSuperficeHas}function inputsOperaciones(){document.querySelectorAll("input[type='number']").forEach(e=>{e.addEventListener("input",()=>{actualizarOperaciones()})})}function actualizarOperaciones(){operacionesArboles(),mostrarSumatoriaPatronCultivos(),operacionesSuperficieUrp(),operacionesValorTierra(),calcularCostoPlantacion(),operacionesValorPlantacion(),operacionesOtrosActivosFijos("#tablaContrucciones"),operacionesOtrosActivosFijos("#tablaVehiculos"),operacionesOtrosActivosFijos("#tablaImplementos"),operacionesOtrosActivosFijos("#tablaEquiposComunicacion"),operacionesOtrosActivosFijos("#tablaEquipos"),operacionesRepuestoHerramientas(),operacionesAgroquimicos("#tablaFertilizantesGranular"),operacionesAgroquimicos("#tablaFertilizantesFoliar"),operacionesAgroquimicos("#tablaInsecticidas"),operacionesAgroquimicos("#tablaHerbicidas"),operacionesAgroquimicos("#tablaFungicidas"),operacionesCombustiblesLubricantes(),operacionesCostosCosecha(),operacionesManoObra("#tablaManoObraContratada"),operacionesManoObra("#tablaManoObraFamiliar"),operacionesManoObraPermanente(),operacionesOtrosCostosGenerales(),operacionesIngresosUrp(),operacionesSubproductos(),operacionesOtrosIngresosUrp(),montoAnualGastosFamiliares()}function mostrarAlerta(e,o,t,r=!0){const a=document.querySelector(".alerta");a&&a.remove();const n=document.createElement("DIV");n.textContent=e,n.classList.add("alerta"),n.classList.add(o);document.querySelector(t).appendChild(n),r&&setTimeout(()=>{n.remove()},3e3)}