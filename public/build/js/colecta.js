const colecta={arboles:[]};function colectaArbol(){const e=document.querySelector("#tablaVariedadArboles"),t={},{arboles:r}=colecta;for(let a=1;a<e.rows.length;a++){for(let r=0;r<e.rows[a].cells.length;r++){const l=e.rows[a].cells[r].firstChild;l&&l.addEventListener("input",(function(l){r<1?t.variedad=e.rows[a].cells[r].firstChild.value:(valorActual=parseInt(e.rows[a].cells[r].firstChild.value),t.numArboles=valorActual,mostrarPorcentaje())}))}colecta.arboles=[...r,t]}}function sumatoriaArboles(){const e=document.querySelector("#tablaVariedadArboles");let t=0;for(let r=1;r<e.rows.length;r++)t+=parseInt(e.rows[r].cells[1].firstChild.value);return t}function mostrarPorcentaje(){const e=document.querySelector("#tablaVariedadArboles");for(let t=1;t<e.rows.length;t++)for(let r=2;r<e.rows[t].cells.length;r++){const a=sumatoriaArboles(),l=(parseInt(e.rows[t].cells[r-1].firstChild.value)/a*100).toFixed(2);e.rows[t].cells[r].innerHTML=`<span>% ${l}</span>`}}document.addEventListener("DOMContentLoaded",()=>{colectaArbol()});const botonAgregarFilaVariedadArboles=document.querySelector("#nuevaFilaVariedad");function filaVariedadArboles(){const e=document.querySelector("#tablaVariedadArboles").children[1],t=document.createElement("TR"),r=document.createElement("TD"),a=document.createElement("TD"),l=document.createElement("TD"),o=document.createElement("INPUT"),n=document.createElement("INPUT");o.setAttribute("type","text"),o.setAttribute("name","arboles[variedad]"),o.setAttribute("required",""),n.setAttribute("type","number"),n.setAttribute("required",""),n.setAttribute("name","arboles[variedad]"),l.classList.add("total"),r.appendChild(o),a.appendChild(n),t.appendChild(r),t.appendChild(a),t.appendChild(l),e.appendChild(t),colectaArbol()}botonAgregarFilaVariedadArboles.addEventListener("click",()=>{filaVariedadArboles()});const botonEliminarFilaVariedad=document.querySelector("#eliminarFilaVariedad");function eliminarFilaVariedad(){const e=document.querySelector("#tablaVariedadArboles").children[1],t=e.rows.length-1,r=e.children[t];e.children.length>1&&(r.remove(),colecta.arboles.pop())}botonEliminarFilaVariedad.addEventListener("click",()=>{eliminarFilaVariedad()});