const colecta={arboles:[],patronCultivos:{hectareaRiego:0,hectareaTemporal:0,sinUso:0},superficieUrp:{riegoPrivada:0,riegoEjidal:0,riegoPrestada:0,riegoRentada:0,temporalPrivada:0,temporalEjidal:0,temporalPrestada:0,temporalRentada:0,usoPrivada:0,usoEjidal:0,usoPrestada:0,usoRentada:0},valorTierra:{hectareaPropiedadValorHA:0,hectareaEjidalesValorHA:0,hectareaPrestadasValorHA:0,hectareaSinUsoValorHA:0},actividadesProduccion:[],otrosCostosActividadesProduccion:[],costoAnualesEstablecimientoPlantacion:[],construcciones:[],vehiculos:[],implementos:[],equiposComunicacion:[],equipos:[],valorPlantacion:{anioEstablecido:"",vidaUtil:"",arbolesHA:0,costoArbol:0},repuestoHerramientas:[],fertilizantesGranular:[],fertilizantesFoliar:[],insecticidas:[],fungicidas:[],herbicidas:[],combustiblesLubricantes:[],mantenimientosReparaciones:[],costosCosecha:[],manoObraContratada:[],manoObraFamiliar:[],tiempoManoObra:{promedioDiasLaborados:0,mesesLaborados:0},manoObraPermanente:[],otrosCostosGenerales:[],ingresosUrp:{rendimiento:0,porcentajeVendido:0,precio:"",rendimientoVenta:0},subproductos:[],otrosIngresosUrp:[],gastosFamiliares:{noMiembros:0,seguroFamiliar:0,gastoFamiliarAnual:0},otraInformacion:{rentaTierraRegion:0,costoTotalJornalRegion:0}};function colectaArbol(){const e=document.querySelectorAll("#tablaVariedadArboles input");let t,o={variedad:"",numArboles:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaVariedadArboles",o),colecta.arboles=t,operacionesArboles()})})}function operacionesArboles(){dividirPorcentaje("#tablaVariedadArboles",1,2),sumarArboles()}function sumarArboles(){const e=document.querySelectorAll("#tablaVariedadArboles input[type='number']"),t=document.querySelector("#totalArboles");let o=0;e.forEach(e=>{const t=""===e.value?0:parseFloat(e.value);o+=parseFloat(t)}),t.textContent=o}function colectaPatronCultivos(){document.querySelectorAll("#tablaPatronCultivos input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosPatronCultivos(),mostrarSumatoriaPatronCultivos()})})}function almacenarDatosPatronCultivos(){const e=document.querySelector("#hectareaRiegoInput"),t=""===e.value?0:parseFloat(e.value),o=document.querySelector("#hectareaTemporalInput"),a=""===o.value?0:parseFloat(o.value),r=document.querySelector("#hectareaSinUsoInput"),n=""===r.value?0:parseFloat(r.value);colecta.patronCultivos.hectareaRiego=t,colecta.patronCultivos.hectareaTemporal=a,colecta.patronCultivos.sinUso=n}function mostrarSumatoriaPatronCultivos(){const e=document.querySelector("#superficieCultivo"),t=document.querySelector("#superficieCultivoPorcentaje"),o=document.querySelector("#hectareaRiegoPorcentaje"),a=document.querySelector("#hectareaTemporalPorcentaje"),r=document.querySelector("#hectareaSinUsoPorcentaje"),n=document.querySelector("#totalHectareas"),l=document.querySelector("#totalHectareasPorcentaje");let c=""===e.textContent?0:parseFloat(e.textContent),s=document.querySelector("#hectareaRiegoInput"),i=""===s.value?0:parseFloat(s.value),u=document.querySelector("#hectareaTemporalInput"),d=""===u.value?0:parseFloat(u.value),m=document.querySelector("#hectareaSinUsoInput"),p=""===m.value?0:parseFloat(m.value),b=""===n.textContent?0:parseFloat(n.textContent);c=i+d,b=c+p,superficeCultivoPorcentajeValue=c/b*100,superficeCultivoPorcentajeValue=isNaN(superficeCultivoPorcentajeValue)?0:superficeCultivoPorcentajeValue,hectariaRiegoPorcentaje=i/c*100,hectariaRiegoPorcentaje=isNaN(hectariaRiegoPorcentaje)?0:hectariaRiegoPorcentaje,hectariaTemporalPorcentaje=d/c*100,hectariaTemporalPorcentaje=isNaN(hectariaTemporalPorcentaje)?0:hectariaTemporalPorcentaje,sinUsoPorcentajeValue=p/b*100,sinUsoPorcentajeValue=isNaN(sinUsoPorcentajeValue)?0:sinUsoPorcentajeValue,totalHectareasPorcentajeValue=superficeCultivoPorcentajeValue+sinUsoPorcentajeValue,totalHectareasPorcentajeValue=isNaN(totalHectareasPorcentajeValue)?0:totalHectareasPorcentajeValue,e.textContent=c,t.textContent=superficeCultivoPorcentajeValue?superficeCultivoPorcentajeValue.toFixed(2):"",o.textContent=hectariaRiegoPorcentaje?hectariaRiegoPorcentaje.toFixed(2):"",a.textContent=hectariaTemporalPorcentaje?hectariaTemporalPorcentaje.toFixed(2):"",r.textContent=sinUsoPorcentajeValue?sinUsoPorcentajeValue.toFixed(2):"",n.textContent=b,l.textContent=totalHectareasPorcentajeValue?totalHectareasPorcentajeValue.toFixed(2):""}function colectaSuperficeUrp(){document.querySelectorAll("#tablaSuperficeUrp input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosSuperfice(),operacionesSuperficieUrp()})})}function operacionesSuperficieUrp(){sumaAreaCultivadaSuperficeUrp(),sumarTotalHectareasFilas(),sumarTotalHA(),superficeValorTierra()}function almacenarDatosSuperfice(){const e=document.querySelectorAll("#tablaSuperficeUrp input"),{superficieUrp:t}=colecta,o=Object.keys(t);let a;for(let r=0;r<o.length;r++){a=o[r];const n=""===e[r].value?0:parseFloat(e[r].value);t[a]=n}}function sumaAreaCultivadaSuperficeUrp(){const e=document.querySelectorAll(".sumaAreaCultivada"),t=document.querySelector("#tablaSuperficeUrp tbody");for(let o=1;o<=e.length;o++){let e=0;for(let a=1;a<t.rows.length-1;a++){const r=t.rows[a].cells[o].lastChild;e+=""===r.value?0:parseFloat(r.value);t.rows[0].cells[o].textContent=e}}}function sumarTotalHectareasFilas(){const e=document.querySelector("#tablaSuperficeUrp tbody");for(let t=0;t<e.rows.length;t++){let o=0;for(let a=1;a<e.rows[t].cells.length-1;a++)if(0===t){const r=e.rows[t].cells[a];o+=parseFloat(r.textContent)}else{const r=e.rows[t].cells[a].lastChild;o+=""===r.value?0:parseFloat(r.value)}const a=e.rows[t].cells.length-1;e.rows[t].cells[a].textContent=o}}function sumarTotalHA(){const e=document.querySelector("#tablaSuperficeUrp").children[1];for(let t=1;t<e.rows[1].cells.length;t++){let o=0;for(let a=1;a<e.rows.length;a++){if(t===e.rows[1].cells.length-1){const r=e.rows[a].cells[t];o+=parseFloat(r.textContent)}else{const r=e.rows[a].cells[t].firstChild;o+=""===r.value?0:parseFloat(r.value)}}document.querySelector("#tablaSuperficeUrp").children[2].firstElementChild.cells[t].textContent=o}}function colectaValorTierra(){document.querySelectorAll("#tablaValorTierra input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosValorTierra(),operacionesValorTierra()})})}function almacenarDatosValorTierra(){const e=document.querySelectorAll("#tablaValorTierra input"),{valorTierra:t}=colecta,o=Object.keys(t);let a;for(let r=0;r<o.length;r++){a=o[r];const n=""===e[r].value?0:parseFloat(e[r].value);t[a]=n}}function operacionesValorTierra(){calcularValorTotalValorTierra(),sumatoriaTotalSuperficeValorTierra()}function superficeValorTierra(){document.querySelector("#areaCultivadaSuperficie").textContent=document.querySelector("#totalHa").textContent;document.querySelector("#hectareaPropiedadSuperficie").textContent=document.querySelector("#totalHectareasPropiasPrivada").textContent;document.querySelector("#hectareaEjidalesSuperficie").textContent=document.querySelector("#totalHectareasPropiasEjidales").textContent;document.querySelector("#hectareaPrestadasSuperficie").textContent=document.querySelector("#totalHectareasNoPropiasPrestadas").textContent;document.querySelector("#hectareaSinUsoSuperficie").textContent=document.querySelector("#totalHectareasNoPropiasRentadas").textContent}function calcularValorTotalValorTierra(){const e=document.querySelector("#tablaValorTierra tbody");for(let t=0;t<e.rows.length;t++){let o=0,a=e.rows[t].cells[1];a=""===a.textContent?0:parseFloat(a.textContent);const r=e.rows[t].cells[2].lastChild;o=a*(""===r.value?0:parseFloat(r.value));e.rows[t].cells[3].textContent=convertirValorMonetario(o)}}function sumatoriaTotalSuperficeValorTierra(){const e=sumarColumna("#tablaValorTierra",1),t=sumarColumna("#tablaValorTierra",3),o=document.querySelector("#totalSuperficeHas"),a=document.querySelector("#totalSuperficeValorTotal");o.textContent=e,a.textContent=convertirValorMonetario(t)}function colectaValorPlantacion(){document.querySelectorAll("#tablaValorPlantacion input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosValorPlantacion(),calcularCostoPlantacion()})})}function calcularCostoPlantacion(){const e=document.querySelector("#tablaValorPlantacion #arbolesHa"),t=""===e.value?0:parseFloat(e.value),o=document.querySelector("#tablaValorPlantacion #costoArbol"),a=""===o.value?0:parseFloat(o.value),r=document.querySelector("#tablaValorTierra #totalSuperficeHas"),n=""===r.textContent?0:parseFloat(r.textContent);document.querySelector("#tablaValorPlantacion #costoPlantacion").textContent=convertirValorMonetario(t*a*n)}function almacenarDatosValorPlantacion(){const e=document.querySelectorAll("#tablaValorPlantacion input"),{valorPlantacion:t}=colecta,o=Object.keys(t);let a;for(let r=0;r<o.length;r++)a=o[r],t[a]=""===e[r].value?0:parseFloat(e[r].value)}function colectaActividadesProduccion(){const e=document.querySelectorAll("#tablaActividadesProduccion input");let t,o={nombreActividadProduccion:"",precioUnitario:0,actual:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaActividadesProduccion",o),colecta.actividadesProduccion=t})})}function colectaOtrosCostosActividadesProduccion(){document.querySelectorAll("#tablaOtrosCostosActividadesProduccion input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosOtrosCostosActividadesProduccion()})})}function almacenarDatosOtrosCostosActividadesProduccion(){const e=document.querySelector("#tablaOtrosCostosActividadesProduccion tbody"),t=e.rows.length;let o,a=[];for(let r=0;r<t;r++){let t={nombreOtroCosto:"",precioUnitario:0,total:0},n=Object.keys(t);for(let a=0;a<e.rows[r].cells.length;a++){const l=e.rows[r].cells[a].lastChild,c="number"===l.type?""===l.value?0:parseFloat(l.value):l.value;o=n[a],t[o]="text"===l.type?c:parseFloat(c)}a.push(t)}colecta.otrosCostosActividadesProduccion=a,console.log(colecta)}function colectaCostoAnualEstablecimientoPlantacion(){const e=document.querySelectorAll("#tablaCostoAnualEstablecimientoPlantacion input");colocarNumeroAnio(),e.forEach(e=>{e.addEventListener("input",()=>{almacenarDatosCostoAnualEstablecimientoPlantacion(),operacionesValorPlantacion()})})}function almacenarDatosCostoAnualEstablecimientoPlantacion(){const e=document.querySelector("#tablaCostoAnualEstablecimientoPlantacion tbody"),t=e.rows.length;let o,a=[];for(let r=0;r<t;r++){let t={numAnio:r+1,total:0},n=Object.keys(t);for(let a=0;a<e.rows[r].cells.length;a++){const l=e.rows[r].cells[a].lastChild,c="number"===l.type?""===l.value?0:parseFloat(l.value):l.value;o=n[a],t[o]="text"===l.type?c:parseFloat(c)}a.push(t)}colecta.costoAnualesEstablecimientoPlantacion=a}function colocarNumeroAnio(){const e=document.querySelector("#tablaCostoAnualEstablecimientoPlantacion tbody"),t=e.rows.length;for(let o=0;o<t;o++){e.rows[o].cells[0].firstChild.value="AÃ±o "+(o+1)}}function operacionesValorPlantacion(){const e=document.querySelectorAll(".costoAnual"),t=document.querySelector("#tablaTotalActividadesProduccion #costoTotalEst"),o=document.querySelector("#tablaTotalActividadesProduccion #depreciacionAnual"),a=document.querySelector("#tablaTotalActividadesProduccion #depreciacionAnualHa"),r=document.querySelector("#tablaValorPlantacion #vidaUtil"),n=""===r.value?0:parseFloat(r.value),l=document.querySelector("#tablaValorTierra #totalSuperficeHas").textContent,c=parseFloat(l);let s=0;e.forEach(e=>{const o=""===e.value?0:parseFloat(e.value);s+=o,t.textContent=convertirValorMonetario(s)});const i=extraerCaracteresNumber(t.textContent);depreciacionAnualTotalValor=i/n,depreciacionAnualTotalValor=isFinite(depreciacionAnualTotalValor)?depreciacionAnualTotalValor:0,o.textContent=convertirValorMonetario(depreciacionAnualTotalValor),depreciacionAnualHasTotalValor=depreciacionAnualTotalValor/c,depreciacionAnualHasTotalValor=isFinite(depreciacionAnualHasTotalValor)?depreciacionAnualHasTotalValor:0,a.textContent=convertirValorMonetario(depreciacionAnualHasTotalValor)}function colectaConstrucciones(){const e=document.querySelectorAll("#tablaContrucciones input");let t,o={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaContrucciones",o),colecta.construcciones=t,operacionesOtrosActivosFijos("#tablaContrucciones")})})}function colectaVehiculos(){const e=document.querySelectorAll("#tablaVehiculos input");let t,o={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaVehiculos",o),colecta.vehiculos=t,operacionesOtrosActivosFijos("#tablaVehiculos")})})}function colectaImplementos(){const e=document.querySelectorAll("#tablaImplementos input");let t,o={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaImplementos",o),colecta.implementos=t,operacionesOtrosActivosFijos("#tablaImplementos")})})}function colectaEquiposComunicacion(){const e=document.querySelectorAll("#tablaEquiposComunicacion input");let t,o={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaEquiposComunicacion",o),colecta.equiposComunicacion=t,operacionesOtrosActivosFijos("#tablaEquiposComunicacion")})})}function colectaEquipos(){const e=document.querySelectorAll("#tablaEquipos input");let t,o={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaEquipos",o),colecta.equipos=t,operacionesOtrosActivosFijos("#tablaEquipos")})})}function operacionesOtrosActivosFijos(e){sumaValorActualMercado(e),sumaValorRecuperacion(e),depreciacionAnual(e),sumadepreciacionAnual(e),totalValorActualMercado(),totalValorRecuperacion(),totalValorDepreciacionAnual()}function totalValorDepreciacionAnual(){let e=document.querySelector("#tablaTotales #totalDepreciacionAnual"),t=isNaN(document.querySelector("#tablaContrucciones #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaContrucciones #totalValorDepreciacionAnual").textContent):0,o=isNaN(document.querySelector("#tablaVehiculos #totalValorDepreciacionAnual").textContent)?extraerCaracteresNumber(document.querySelector("#tablaVehiculos #totalValorDepreciacionAnual").textContent):0,a=isNaN(document.querySelector("#tablaImplementos #totalValorDepreciacionAnual").textContent)?extraerCaracteresNumber(document.querySelector("#tablaImplementos #totalValorDepreciacionAnual").textContent):0,r=isNaN(document.querySelector("#tablaEquiposComunicacion #totalValorDepreciacionAnual").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquiposComunicacion #totalValorDepreciacionAnual").textContent):0,n=isNaN(document.querySelector("#tablaEquipos #totalValorDepreciacionAnual").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquipos #totalValorDepreciacionAnual").textContent):0;total=t+o+a+r+n,e.textContent=convertirValorMonetario(total)}function totalValorRecuperacion(){let e=document.querySelector("#tablaTotales #totalValorRecuperacion"),t=isNaN(document.querySelector("#tablaContrucciones #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaContrucciones #totalValorRecuperacion").textContent):0,o=isNaN(document.querySelector("#tablaVehiculos #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaVehiculos #totalValorRecuperacion").textContent):0,a=isNaN(document.querySelector("#tablaImplementos #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaImplementos #totalValorRecuperacion").textContent):0,r=isNaN(document.querySelector("#tablaEquiposComunicacion #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquiposComunicacion #totalValorRecuperacion").textContent):0,n=isNaN(document.querySelector("#tablaEquipos #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquipos #totalValorRecuperacion").textContent):0;total=t+o+a+r+n,e.textContent=convertirValorMonetario(total)}function totalValorActualMercado(){let e=document.querySelector("#tablaTotales #totalValorActualMercado"),t=isNaN(document.querySelector("#tablaContrucciones #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaContrucciones #totalValorActualMercado").textContent):0,o=isNaN(document.querySelector("#tablaVehiculos #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaVehiculos #totalValorActualMercado").textContent):0,a=isNaN(document.querySelector("#tablaImplementos #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaImplementos #totalValorActualMercado").textContent):0,r=isNaN(document.querySelector("#tablaEquiposComunicacion #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquiposComunicacion #totalValorActualMercado").textContent):0,n=isNaN(document.querySelector("#tablaEquipos #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquipos #totalValorActualMercado").textContent):0;total=t+o+a+r+n,e.textContent=convertirValorMonetario(total)}function sumadepreciacionAnual(e){const t=document.querySelector(e).children[1],o=document.querySelector(e+" #totalValorDepreciacionAnual");let a=0;for(let e=0;e<t.rows.length;e++)depreciacionAnualRubro=t.rows[e].cells[7].textContent,valorFloat=extraerCaracteresNumber(depreciacionAnualRubro),a+=valorFloat;o.textContent=formatter.format(a)}function depreciacionAnual(e){const t=document.querySelector(e).children[1];for(let e=0;e<t.rows.length;e++){let o=t.rows[e].cells[7],a=t.rows[e].cells[4].firstChild;a=""===a.value?0:parseFloat(a.value);let r=.01*a,n=t.rows[e].cells[5].lastChild;n=""===n.value?0:parseFloat(n.value);let l=t.rows[e].cells[6].lastChild;l=""===l.value?0:parseFloat(l.value);let c=parseFloat((n-l)*r);o.textContent=convertirValorMonetario(c)}}function sumaValorRecuperacion(e){const t=document.querySelector(e+" #totalValorRecuperacion"),o=document.querySelectorAll(e+" .valorRecuperacion");let a=0;o.forEach(e=>{let t=""===e.value?0:parseFloat(e.value);a+=t}),t.innerHTML=convertirValorMonetario(a)}function sumaValorActualMercado(e){const t=document.querySelector(e+" #totalValorActualMercado"),o=document.querySelectorAll(e+" .valorActualMercado");let a=0;o.forEach(e=>{let t=""===e.value?0:parseFloat(e.value);a+=t}),t.innerHTML=convertirValorMonetario(a)}function colectaRepuestoHerramientas(){const e=document.querySelectorAll("#tablaRepuestoHerramientas input");let t,o={nombreHerramienta:"",cantidadHectarea:0,precioUnitario:0,vidaUtil:0,valorRepocicion:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaRepuestoHerramientas",o),colecta.repuestoHerramientas=t,operacionesRepuestoHerramientas()})})}function operacionesRepuestoHerramientas(){costoRepuestoHerramientas(),costoDepreciacionAnual(),costoTotalRepuestoHerramientas(),valorRepocicionTotalRepuestoHerramientas(),depreciacionAnualTotalRepuestoHerramientas()}function depreciacionAnualTotalRepuestoHerramientas(){const e=document.querySelector("#tablaRepuestoHerramientas #totalDepreciacionAnual");let t=sumarColumna("#tablaRepuestoHerramientas",6);e.textContent=convertirValorMonetario(t)}function valorRepocicionTotalRepuestoHerramientas(){const e=document.querySelector("#tablaRepuestoHerramientas #totalValorRepocicion");let t=sumarColumnaInputs("#tablaRepuestoHerramientas",5);e.textContent=convertirValorMonetario(t)}function costoTotalRepuestoHerramientas(){const e=document.querySelector("#tablaRepuestoHerramientas #totalCostoTotal");let t=sumarColumna("#tablaRepuestoHerramientas",3);e.textContent=convertirValorMonetario(t)}function costoDepreciacionAnual(){const e=document.querySelector("#tablaRepuestoHerramientas tbody");for(let t=0;t<e.rows.length;t++){const o=e.rows[t].cells[3].textContent,a=extraerCaracteresNumber(o),r=e.rows[t].cells[4].lastChild,n=""===r.value?0:parseFloat(r.value),l=e.rows[t].cells[5].lastChild;let c=(a-a*(""===l.value?0:parseFloat(l.value)))/n*12;c=isFinite(c)?c:0,e.rows[t].cells[6].textContent=convertirValorMonetario(c)}}function costoRepuestoHerramientas(){const e=document.querySelector("#tablaRepuestoHerramientas tbody");for(let t=0;t<e.rows.length;t++){const o=e.rows[t].cells[1].lastChild,a=""===o.value?0:parseFloat(o.value),r=e.rows[t].cells[2].lastChild,n=a*(""===r.value?0:parseFloat(r.value));e.rows[t].cells[3].textContent=convertirValorMonetario(n)}}function colectaFertilizanteGranular(){const e=document.querySelectorAll("#tablaFertilizantesGranular input");let t,o={nombreFertilizante:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaFertilizantesGranular",o),colecta.fertilizantesGranular=t,operacionesAgroquimicos("#tablaFertilizantesGranular")})})}function colectaFertilizanteFoliar(){const e=document.querySelectorAll("#tablaFertilizantesFoliar input");let t,o={nombreFertilizante:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaFertilizantesFoliar",o),colecta.fertilizantesFoliar=t,operacionesAgroquimicos("#tablaFertilizantesFoliar")})})}function colectaInsecticidas(){const e=document.querySelectorAll("#tablaInsecticidas input");let t,o={nombreInsecticida:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaInsecticidas",o),colecta.insecticidas=t,operacionesAgroquimicos("#tablaInsecticidas")})})}function colectaFungicidas(){const e=document.querySelectorAll("#tablaFungicidas input");let t,o={nombreFungicida:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaFungicidas",o),colecta.fungicidas=t,operacionesAgroquimicos("#tablaFungicidas")})})}function colectaHerbicidas(){const e=document.querySelectorAll("#tablaHerbicidas input");let t,o={nombreHerbicida:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaHerbicidas",o),colecta.herbicidas=t,operacionesAgroquimicos("#tablaHerbicidas")})})}function colectaCombustiblesLubricantes(){const e=document.querySelectorAll("#tablaCombustiblesLubricantes input");let t,o={nombreCombustiblesLubricantes:"",litros:0,precioUnitario:0,costo:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaCombustiblesLubricantes",o),colecta.combustiblesLubricantes=t,operacionesCombustiblesLubricantes()})})}function operacionesCombustiblesLubricantes(){costoMesCombustiblesLubricantes(),costoAnualCombustiblesLubricantes(),totalCombustiblesLubricantes()}function operacionesAgroquimicos(e){costoTotalAgroquimico(e),subtotalAgroquimicosFertilizantes(),subtotalAgroquimicosOtrosInsecticidas(),totalAgroquimicos()}function costoAnualCombustiblesLubricantes(){const e=document.querySelector("#tablaCombustiblesLubricantes tbody");for(let t=0;t<e.rows.length;t++){let o=e.rows[t].cells[3].textContent;o=extraerCaracteresNumber(o);let a=12*o;e.rows[t].cells[4].textContent=convertirValorMonetario(a)}}function costoMesCombustiblesLubricantes(){const e=document.querySelector("#tablaCombustiblesLubricantes tbody");for(let t=0;t<e.rows.length;t++){let o=e.rows[t].cells[1].lastChild;o=""===o.value?0:parseFloat(o.value);let a=e.rows[t].cells[2].lastChild;a=""===a.value?0:parseFloat(a.value);let r=a*o;e.rows[t].cells[3].textContent=convertirValorMonetario(r)}}function totalCombustiblesLubricantes(){const e=document.querySelector("#totalCombustiblesLubricantes"),t=sumarColumna("#tablaCombustiblesLubricantes",4);e.textContent=convertirValorMonetario(t)}function totalAgroquimicos(){const e=document.querySelector("#totalCostoAgroquimicos"),t=extraerCaracteresNumber(document.querySelector("#subtotalFertilizantes").textContent),o=extraerCaracteresNumber(document.querySelector("#subtotalPesticidasControBiologicoOtros").textContent);e.textContent=convertirValorMonetario(t+o)}function subtotalAgroquimicosOtrosInsecticidas(){const e=sumarColumna("#tablaInsecticidas",4),t=sumarColumna("#tablaFungicidas",4),o=sumarColumna("#tablaHerbicidas",4);document.querySelector("#tablaHerbicidas #subtotalPesticidasControBiologicoOtros").textContent=convertirValorMonetario(e+t+o)}function subtotalAgroquimicosFertilizantes(){const e=sumarColumna("#tablaFertilizantesGranular",4),t=sumarColumna("#tablaFertilizantesFoliar",4);document.querySelector("#tablaFertilizantesFoliar #subtotalFertilizantes").textContent=convertirValorMonetario(e+t)}function costoTotalAgroquimico(e){const t=document.querySelector(e+" tbody"),o=getTotalSuperficie();for(let e=0;e<t.rows.length;e++){let a=t.rows[e].cells[2].lastChild;a=""===a.value?0:parseFloat(a.value);let r=t.rows[e].cells[3].lastChild;r=""===r.value?0:parseFloat(r.value);let n=o*r*a;t.rows[e].cells[4].textContent=convertirValorMonetario(n)}}function colectaMantenimientoReparaciones(){const e=document.querySelectorAll("#tablaMantenimientoReparaciones input");let t,o={nombreMantenimietoReparacion:"",unidades:0,precioUnitario:0,costoMes:0,costoAnual:0,porcenajeUso:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaMantenimientoReparaciones",o),colecta.mantenimientosReparaciones=t,operacionesMantenimientoReparaciones()})})}function operacionesMantenimientoReparaciones(){totalCostoActualMantenimientoReparaciones()}function totalCostoActualMantenimientoReparaciones(){const e=sumarColumnaInputs("#tablaMantenimientoReparaciones",4);document.querySelector("#totalMantenimientoReparaciones").textContent=convertirValorMonetario(e)}function colectaCostosCosecha(){const e=document.querySelectorAll("#tablaCostosCosecha input");let t,o={nombreProducto:"",unidades:"",cantidad:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaCostosCosecha",o),colecta.costosCosecha=t,operacionesCostosCosecha()})})}function operacionesCostosCosecha(){operacionCostoCosechaUrp(),totalCostoCosechaUrp()}function totalCostoCosechaUrp(){const e=document.querySelector("#totalComercializacionProduccion"),t=sumarColumna("#tablaCostosCosecha",4);e.textContent=convertirValorMonetario(t)}function operacionCostoCosechaUrp(){const e=document.querySelector("#tablaCostosCosecha tbody");for(let t=0;t<e.rows.length;t++){let o=e.rows[t].cells[2].lastChild;o=""===o.value?0:parseFloat(o.value);let a=e.rows[t].cells[3].lastChild;a=""===a.value?0:parseFloat(a.value);let r=a*o*12;e.rows[t].cells[4].textContent=convertirValorMonetario(r)}}function colectaManoObraContratada(){const e=document.querySelectorAll("#tablaManoObraContratada input");let t,o={labor:"",cantidadJornales:"",precioJornal:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaManoObraContratada",o),colecta.manoObraContratada=t,operacionesManoObra("#tablaManoObraContratada")})})}function colectaManoObraFamiliar(){const e=document.querySelectorAll("#tablaManoObraFamiliar input");let t,o={labor:"",cantidadJornales:"",precioJornal:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaManoObraFamiliar",o),colecta.manoObraFamiliar=t,operacionesManoObra("#tablaManoObraFamiliar")})})}function operacionesManoObra(e){costoTotalUrpAnioManoObra(e),subtotalCostoTotalUrpAnioManoObra(e),costoHaAnioManoObra(e),subtotalCostoHaAnioManoObra(e),subtotalJornalesTotalesManoObra(e),jornalesTotalesManoObraContratada()}function costoTotalUrpAnioManoObra(e){const t=document.querySelector(e+" tbody"),o=getTotalSuperficie();for(let e=0;e<t.rows.length;e++){let a=t.rows[e].cells[1].lastChild;a=""===a.value?0:parseFloat(a.value);let r=t.rows[e].cells[2].lastChild;r=""===r.value?0:parseFloat(r.value);let n=o*a*r;t.rows[e].cells[3].textContent=convertirValorMonetario(n)}}function subtotalCostoTotalUrpAnioManoObra(e){const t=sumarColumna(e,3);document.querySelector(e+" #subtotalCostoTotalUrpAnio").textContent=convertirValorMonetario(t)}function costoHaAnioManoObra(e){const t=document.querySelector(e+" tbody"),o=getTotalSuperficie();for(let e=0;e<t.rows.length;e++){let a=t.rows[e].cells[3].textContent;a=extraerCaracteresNumber(a);let r=a/o;r=isNaN(r)?0:r,t.rows[e].cells[4].textContent=convertirValorMonetario(r)}}function subtotalCostoHaAnioManoObra(e){const t=sumarColumna(e,4);document.querySelector(e+" #subtotalCostoHaAnio").textContent=convertirValorMonetario(t)}function subtotalJornalesTotalesManoObra(e){const t=sumarColumnaInputs(e,1);document.querySelector(e+" #subtotalCantidadJornales").textContent=t}function jornalesTotalesManoObraContratada(){const e=getTotalSuperficie(),t=extraerCaracteresNumber(document.querySelector("#subtotalCantidadJornales").textContent);document.querySelector("#joranesTotalesUrp").textContent=e*t}function colectaTiempoManoObra(){document.querySelectorAll("#tablaTiempoManoObra input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosTiempoManoObra()})})}function almacenarDatosTiempoManoObra(){let e=document.querySelector("#promedioDiasLaborados");e=""===e.value?0:parseFloat(e.value);let t=document.querySelector("#mesesLaborados");t=""===t.value?0:parseFloat(t.value),colecta.tiempoManoObra.promedioDiasLaborados=e,colecta.tiempoManoObra.mesesLaborados=t}function colectaManoObraPermanente(){const e=document.querySelectorAll("#tablaManoObraPermanente input");let t,o={labor:"",numEmpleados:0,precioUnitarioDia:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaManoObraPermanente",o),colecta.manoObraPermanente=t,operacionesManoObraPermanente()})})}function operacionesManoObraPermanente(){costoItegradoManoObraPermanente(),costoMensualManoObraPermanente(),costoTotalAnualManoObraPermanente(),totalNoEmpleadosManoObraPermanente(),totalCostoMensualManoObraPermanente(),totalCostoTotalAnualManoObraPermanente(),totalJornalesManoObraPermanente()}function costoItegradoManoObraPermanente(){const e=document.querySelector("#tablaManoObraPermanente tbody");for(let t=0;t<e.rows.length;t++){let o=e.rows[t].cells[1].lastChild;o=""===o.value?0:parseFloat(o.value);let a=e.rows[t].cells[2].lastChild;a=""===a.value?0:parseFloat(a.value);let r=o*a*1.33;e.rows[t].cells[3].textContent=convertirValorMonetario(r)}}function costoMensualManoObraPermanente(){const e=document.querySelector("#tablaManoObraPermanente tbody");let t=document.querySelector("#tablaTiempoManoObra #promedioDiasLaborados");t=""===t.value?0:parseFloat(t.value);for(let o=0;o<e.rows.length;o++){let a=t*extraerCaracteresNumber(e.rows[o].cells[3].textContent);e.rows[o].cells[4].textContent=convertirValorMonetario(a)}}function costoTotalAnualManoObraPermanente(){const e=document.querySelector("#tablaManoObraPermanente tbody");let t=document.querySelector("#tablaTiempoManoObra #mesesLaborados");t=""===t.value?0:parseFloat(t.value);for(let o=0;o<e.rows.length;o++){let a=t*extraerCaracteresNumber(e.rows[o].cells[4].textContent);e.rows[o].cells[5].textContent=convertirValorMonetario(a)}}function totalNoEmpleadosManoObraPermanente(){const e=sumarColumnaInputs("#tablaManoObraPermanente",1);document.querySelector("#tablaManoObraPermanente #noEmpleadosManoObraPermanente").textContent=e}function totalCostoMensualManoObraPermanente(){const e=sumarColumna("#tablaManoObraPermanente",4);document.querySelector("#tablaManoObraPermanente #costoMensualManoObraPermanente").textContent=e}function totalCostoTotalAnualManoObraPermanente(){const e=sumarColumna("#tablaManoObraPermanente",5);document.querySelector("#tablaManoObraPermanente #costoTotalAnualManoObraPermanente").textContent=e}function totalJornalesManoObraPermanente(){let e=document.querySelector("#tablaTiempoManoObra #promedioDiasLaborados");e=""===e.value?0:parseFloat(e.value);let t=document.querySelector("#tablaTiempoManoObra #mesesLaborados");t=""===t.value?0:parseFloat(t.value);let o=e*t*extraerCaracteresNumber(document.querySelector("#tablaManoObraPermanente #noEmpleadosManoObraPermanente").textContent);document.querySelector("#tablaManoObraPermanente #jornalesTotalManoObraPermanente").textContent=o}function colectaOtrosCostosGenerales(){const e=document.querySelectorAll("#tablaOtrosCostosProduccionCostosGenerales input");let t,o={nombreCosto:"",unidad:0,costoMes:0,costoAnio:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaOtrosCostosProduccionCostosGenerales",o),colecta.otrosCostosGenerales=t,operacionesOtrosCostosGenerales()})})}function operacionesOtrosCostosGenerales(){costoAnioOtrosCostosGenerales(),costoHaOtrosCostosGenerales(),sumatoriasOtrosCostosGenerales()}function costoAnioOtrosCostosGenerales(){const e=document.querySelector("#tablaOtrosCostosProduccionCostosGenerales tbody");for(let t=0;t<e.rows.length;t++){let o=e.rows[t].cells[2].lastChild;o=""===o.value?0:parseFloat(o.value);let a=12*o;e.rows[t].cells[3].textContent=convertirValorMonetario(a)}}function costoHaOtrosCostosGenerales(){const e=document.querySelector("#tablaOtrosCostosProduccionCostosGenerales tbody"),t=getTotalSuperficie();for(let o=0;o<e.rows.length;o++){let a=e.rows[o].cells[3].textContent;a=extraerCaracteresNumber(a);let r=a/t;r=isFinite(r)?r:0,e.rows[o].cells[4].textContent=convertirValorMonetario(r)}}function sumatoriasOtrosCostosGenerales(){const e=sumarColumnaInputs("#tablaOtrosCostosProduccionCostosGenerales",2),t=sumarColumna("#tablaOtrosCostosProduccionCostosGenerales",3),o=sumarColumna("#tablaOtrosCostosProduccionCostosGenerales",4),a=document.querySelector("#tablaOtrosCostosProduccionCostosGenerales #totalCostoMesOtrosCostosProduccion"),r=document.querySelector("#tablaOtrosCostosProduccionCostosGenerales #totalAnioOtrosCostosProduccion"),n=document.querySelector("#tablaOtrosCostosProduccionCostosGenerales #totalCostoHaOtrosCostosProduccion");a.textContent=convertirValorMonetario(e),r.textContent=convertirValorMonetario(t),n.textContent=convertirValorMonetario(o)}function colectaIngresosUrp(){document.querySelectorAll(".ingresosUrpInputs").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosIngresosUrp(),operacionesIngresosUrp()})})}function almacenarDatosIngresosUrp(){const e=document.querySelectorAll(".ingresosUrpInputs"),{ingresosUrp:t}=colecta,o=Object.keys(t);let a;for(let r=0;r<o.length;r++){a=o[r];const n=""===e[r].value?0:parseFloat(e[r].value);t[a]=n}console.log(colecta)}function operacionesIngresosUrp(){cantidadProducidaIngresosUrp(),cantidadVendidaIngresosUrp(),ingresosRealIngresosUrp(),subtotalIngresosUrp(),ingresosTotalesCultivo()}function cantidadProducidaIngresosUrp(){const e=document.querySelector("#cantidadProducidaUrp"),t=getTotalSuperficie();let o=document.querySelectorAll(".ingresosUrpInputs");o=""===o[0].value?0:parseFloat(o[0].value),e.textContent=t*o}function cantidadVendidaIngresosUrp(){const e=document.querySelector("#cantidadVendida");let t=document.querySelectorAll(".ingresosUrpInputs");t=""===t[1].value?0:parseFloat(t[1].value);let o=document.querySelector("#cantidadProducidaUrp").textContent;o=extraerCaracteresNumber(o),e.textContent=t*o}function ingresosRealIngresosUrp(){const e=document.querySelectorAll(".ingresosUrpInputs"),t=""===e[2].value?0:parseFloat(e[2].value),o=""===e[3].value?0:parseFloat(e[3].value);document.querySelector("#ingresoReal").textContent=convertirValorMonetario(t*o)}function subtotalIngresosUrp(){const e=document.querySelectorAll(".ingresosUrpInputs"),t=""===e[0].value?0:parseFloat(e[0].value),o=""===e[2].value?0:parseFloat(e[2].value);document.querySelector("#subtotalIngresosUrp").textContent=convertirValorMonetario(o*t)}function ingresosTotalesCultivo(){const e=getTotalSuperficie();let t=document.querySelector("#ingresoReal").textContent;t=extraerCaracteresNumber(t);document.querySelector("#ingresosTotalesCultivo").textContent=convertirValorMonetario(e*t)}function colectaSubproductos(){const e=document.querySelectorAll("#tablaSubproductos input");let t,o={nombreIngreso:"",ingreso:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaSubproductos",o),colecta.subproductos=t,operacionesSubproductos()})})}function operacionesSubproductos(){subtotalSubproductos(),totalHectareasIngresosUrp()}function subtotalSubproductos(){const e=sumarColumnaInputs("#tablaSubproductos",1);document.querySelector("#tablaSubproductos #subtotalSubproductos").textContent=convertirValorMonetario(e)}function totalHectareasIngresosUrp(){let e=document.querySelector("#tablaSubproductos #subtotalSubproductos").textContent;e=extraerCaracteresNumber(e);let t=document.querySelector("#subtotalIngresosUrp").textContent;t=extraerCaracteresNumber(t);document.querySelector("#tablaSubproductos #totalSubproductosUrp").textContent=convertirValorMonetario(e+t)}function colectaOtrosIngresosUrp(){const e=document.querySelectorAll("#tablaOtrosIngresosUrp input");let t,o={nombreIngreso:"",monto:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaOtrosIngresosUrp",o),colecta.otrosIngresosUrp=t,operacionesOtrosIngresosUrp()})})}function operacionesOtrosIngresosUrp(){totalOtrosIngresosUrp()}function totalOtrosIngresosUrp(){const e=sumarColumnaInputs("#tablaOtrosIngresosUrp",1);document.querySelector("#tablaOtrosIngresosUrp #totalOtrosIngresosUrp").textContent=convertirValorMonetario(e)}function colectaGastosFamiliares(){document.querySelectorAll("#tablaGastosFamiliares input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosGastosFamiliares(),montoAnualGastosFamiliares()})})}function almacenarDatosGastosFamiliares(){const e=document.querySelectorAll("#tablaGastosFamiliares input"),{gastosFamiliares:t}=colecta,o=Object.keys(t);let a;for(let r=0;r<o.length;r++){a=o[r];const n=""===e[r].value?0:parseFloat(e[r].value);t[a]=n}console.log(colecta)}function montoAnualGastosFamiliares(){const e=sumarColumnaInputs("#tablaGastosFamiliares",1);document.querySelector("#tablaGastosFamiliares #montoAnualGastosFamiliares").textContent=convertirValorMonetario(e)}function colectaOtraInformacion(){document.querySelectorAll("#tablaOtraInformacion input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosOtraInformacion()})})}function almacenarDatosOtraInformacion(){const e=document.querySelectorAll("#tablaOtraInformacion input"),{otraInformacion:t}=colecta,o=Object.keys(t);let a;for(let r=0;r<o.length;r++){a=o[r];const n=""===e[r].value?0:parseFloat(e[r].value);t[a]=n}console.log(colecta)}function mostrarGuardarColecta(){const e=document.querySelector("#guardarColecta");for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("BUTTON");t.classList.add("boton"),t.textContent="Guardar Colecta",t.onclick=guardarColecta,e.appendChild(t)}document.addEventListener("DOMContentLoaded",()=>{colectaArbol(),colectaPatronCultivos(),colectaSuperficeUrp(),colectaValorTierra(),colectaValorPlantacion(),colectaActividadesProduccion(),colectaOtrosCostosActividadesProduccion(),colectaCostoAnualEstablecimientoPlantacion(),colectaConstrucciones(),colectaVehiculos(),colectaImplementos(),colectaEquiposComunicacion(),colectaEquipos(),colectaRepuestoHerramientas(),colectaFertilizanteGranular(),colectaFertilizanteFoliar(),colectaInsecticidas(),colectaFungicidas(),colectaHerbicidas(),colectaCombustiblesLubricantes(),colectaMantenimientoReparaciones(),colectaCostosCosecha(),colectaManoObraContratada(),colectaManoObraFamiliar(),colectaTiempoManoObra(),colectaManoObraPermanente(),colectaOtrosCostosGenerales(),colectaIngresosUrp(),colectaSubproductos(),colectaOtrosIngresosUrp(),colectaGastosFamiliares(),colectaOtraInformacion(),inputsOperaciones()}),mostrarGuardarColecta();const server=window.location.origin;async function guardarColecta(){const{arboles:e,patronCultivos:t}=colecta,o=new FormData,a=JSON.stringify(e),r=JSON.stringify(t);o.append("arboles",a),o.append("patronCultivos",r);try{const e=server+"/api/colectas",t=await fetch(e,{method:"POST",body:o}),a=await t.json();return void console.log(a)}catch(e){}}function mostrarAlerta(e,t,o,a=!0){const r=document.querySelector(".alerta");r&&r.remove();const n=document.createElement("DIV");n.textContent=e,n.classList.add("alerta"),n.classList.add(t);document.querySelector(o).appendChild(n),a&&setTimeout(()=>{n.remove()},3e3)}