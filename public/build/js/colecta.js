const colecta={arboles:[],patronCultivos:{hectareaRiego:0,hectareaTemporal:0,sinUso:0},superficieUrp:{riegoPrivada:0,riegoEjidal:0,riegoPrestada:0,riegoRentada:0,temporalPrivada:0,temporalEjidal:0,temporalPrestada:0,temporalRentada:0,usoPrivada:0,usoEjidal:0,usoPrestada:0,usoRentada:0},valorTierra:{hectareaPropiedadValorHA:0,hectareaEjidalesValorHA:0,hectareaPrestadasValorHA:0,hectareaSinUsoValorHA:0},actividadesProduccion:[],otrosCostos:[],costoAnualesEstablecimientoPlantacion:[],construcciones:[],vehiculos:[],implementos:[],equiposComunicacion:[],equipos:[],valorPlantacion:{anioEstablecido:"",vidaUtil:"",arbolesHA:0,costoArbol:0},repuestoHerramientas:[],fertilizantesGranular:[],fertilizantesFoliar:[],insecticidas:[],fungicidas:[],herbicidas:[],combustiblesLubricantes:[],mantenimientosReparaciones:[],costosCosecha:[],manoObraContratada:[],manoObraFamiliar:[]};function colectaArbol(){const e=document.querySelectorAll("#tablaVariedadArboles input");let t,a={variedad:"",numArboles:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaVariedadArboles",a),colecta.arboles=t,operacionesArboles()})})}function operacionesArboles(){dividirPorcentaje("#tablaVariedadArboles",1,2),sumarArboles()}function sumarArboles(){const e=document.querySelectorAll("#tablaVariedadArboles input[type='number']"),t=document.querySelector("#totalArboles");let a=0;e.forEach(e=>{const t=""===e.value?0:parseFloat(e.value);a+=parseFloat(t)}),t.textContent=a}function colectaPatronCultivos(){document.querySelectorAll("#tablaPatronCultivos input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosPatronCultivos(),mostrarSumatoriaPatronCultivos()})})}function almacenarDatosPatronCultivos(){const e=document.querySelector("#hectareaRiegoInput"),t=""===e.value?0:parseFloat(e.value),a=document.querySelector("#hectareaTemporalInput"),o=""===a.value?0:parseFloat(a.value),n=document.querySelector("#hectareaSinUsoInput"),r=""===n.value?0:parseFloat(n.value);colecta.patronCultivos.hectareaRiego=t,colecta.patronCultivos.hectareaTemporal=o,colecta.patronCultivos.sinUso=r}function mostrarSumatoriaPatronCultivos(){const e=document.querySelector("#superficieCultivo"),t=document.querySelector("#superficieCultivoPorcentaje"),a=document.querySelector("#hectareaRiegoPorcentaje"),o=document.querySelector("#hectareaTemporalPorcentaje"),n=document.querySelector("#hectareaSinUsoPorcentaje"),r=document.querySelector("#totalHectareas"),l=document.querySelector("#totalHectareasPorcentaje");let i=""===e.textContent?0:parseFloat(e.textContent),c=document.querySelector("#hectareaRiegoInput"),s=""===c.value?0:parseFloat(c.value),u=document.querySelector("#hectareaTemporalInput"),d=""===u.value?0:parseFloat(u.value),m=document.querySelector("#hectareaSinUsoInput"),p=""===m.value?0:parseFloat(m.value),b=""===r.textContent?0:parseFloat(r.textContent);i=s+d,b=i+p,superficeCultivoPorcentajeValue=i/b*100,superficeCultivoPorcentajeValue=isNaN(superficeCultivoPorcentajeValue)?0:superficeCultivoPorcentajeValue,hectariaRiegoPorcentaje=s/i*100,hectariaRiegoPorcentaje=isNaN(hectariaRiegoPorcentaje)?0:hectariaRiegoPorcentaje,hectariaTemporalPorcentaje=d/i*100,hectariaTemporalPorcentaje=isNaN(hectariaTemporalPorcentaje)?0:hectariaTemporalPorcentaje,sinUsoPorcentajeValue=p/b*100,sinUsoPorcentajeValue=isNaN(sinUsoPorcentajeValue)?0:sinUsoPorcentajeValue,totalHectareasPorcentajeValue=superficeCultivoPorcentajeValue+sinUsoPorcentajeValue,totalHectareasPorcentajeValue=isNaN(totalHectareasPorcentajeValue)?0:totalHectareasPorcentajeValue,e.textContent=i,t.textContent=superficeCultivoPorcentajeValue?superficeCultivoPorcentajeValue.toFixed(2):"",a.textContent=hectariaRiegoPorcentaje?hectariaRiegoPorcentaje.toFixed(2):"",o.textContent=hectariaTemporalPorcentaje?hectariaTemporalPorcentaje.toFixed(2):"",n.textContent=sinUsoPorcentajeValue?sinUsoPorcentajeValue.toFixed(2):"",r.textContent=b,l.textContent=totalHectareasPorcentajeValue?totalHectareasPorcentajeValue.toFixed(2):""}function colectaSuperficeUrp(){document.querySelectorAll("#tablaSuperficeUrp input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosSuperfice(),operacionesSuperficieUrp()})})}function operacionesSuperficieUrp(){sumaAreaCultivadaSuperficeUrp(),sumarTotalHectareasFilas(),sumarTotalHA(),superficeValorTierra()}function almacenarDatosSuperfice(){const e=document.querySelectorAll("#tablaSuperficeUrp input"),{superficieUrp:t}=colecta,a=Object.keys(t);let o;for(let n=0;n<a.length;n++){o=a[n];const r=""===e[n].value?0:parseFloat(e[n].value);t[o]=r}}function sumaAreaCultivadaSuperficeUrp(){const e=document.querySelectorAll(".sumaAreaCultivada"),t=document.querySelector("#tablaSuperficeUrp tbody");for(let a=1;a<=e.length;a++){let e=0;for(let o=1;o<t.rows.length-1;o++){const n=t.rows[o].cells[a].lastChild;e+=""===n.value?0:parseFloat(n.value);t.rows[0].cells[a].textContent=e}}}function sumarTotalHectareasFilas(){const e=document.querySelector("#tablaSuperficeUrp tbody");for(let t=0;t<e.rows.length;t++){let a=0;for(let o=1;o<e.rows[t].cells.length-1;o++)if(0===t){const n=e.rows[t].cells[o];a+=parseFloat(n.textContent)}else{const n=e.rows[t].cells[o].lastChild;a+=""===n.value?0:parseFloat(n.value)}const o=e.rows[t].cells.length-1;e.rows[t].cells[o].textContent=a}}function sumarTotalHA(){const e=document.querySelector("#tablaSuperficeUrp").children[1];for(let t=1;t<e.rows[1].cells.length;t++){let a=0;for(let o=1;o<e.rows.length;o++){if(t===e.rows[1].cells.length-1){const n=e.rows[o].cells[t];a+=parseFloat(n.textContent)}else{const n=e.rows[o].cells[t].firstChild;a+=""===n.value?0:parseFloat(n.value)}}document.querySelector("#tablaSuperficeUrp").children[2].firstElementChild.cells[t].textContent=a}}function colectaValorTierra(){document.querySelectorAll("#tablaValorTierra input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosValorTierra(),operacionesValorTierra()})})}function almacenarDatosValorTierra(){const e=document.querySelectorAll("#tablaValorTierra input"),{valorTierra:t}=colecta,a=Object.keys(t);let o;for(let n=0;n<a.length;n++){o=a[n];const r=""===e[n].value?0:parseFloat(e[n].value);t[o]=r}}function operacionesValorTierra(){calcularValorTotalValorTierra(),sumatoriaTotalSuperficeValorTierra()}function superficeValorTierra(){document.querySelector("#areaCultivadaSuperficie").textContent=document.querySelector("#totalHa").textContent;document.querySelector("#hectareaPropiedadSuperficie").textContent=document.querySelector("#totalHectareasPropiasPrivada").textContent;document.querySelector("#hectareaEjidalesSuperficie").textContent=document.querySelector("#totalHectareasPropiasEjidales").textContent;document.querySelector("#hectareaPrestadasSuperficie").textContent=document.querySelector("#totalHectareasNoPropiasPrestadas").textContent;document.querySelector("#hectareaSinUsoSuperficie").textContent=document.querySelector("#totalHectareasNoPropiasRentadas").textContent}function calcularValorTotalValorTierra(){const e=document.querySelector("#tablaValorTierra tbody");for(let t=0;t<e.rows.length;t++){let a=0,o=e.rows[t].cells[1];o=""===o.textContent?0:parseFloat(o.textContent);const n=e.rows[t].cells[2].lastChild;a=o*(""===n.value?0:parseFloat(n.value));e.rows[t].cells[3].textContent=convertirValorMonetario(a)}}function sumatoriaTotalSuperficeValorTierra(){const e=sumarColumna("#tablaValorTierra",1),t=sumarColumna("#tablaValorTierra",3),a=document.querySelector("#totalSuperficeHas"),o=document.querySelector("#totalSuperficeValorTotal");a.textContent=e,o.textContent=convertirValorMonetario(t)}function colectaValorPlantacion(){document.querySelectorAll("#tablaValorPlantacion input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosValorPlantacion(),calcularCostoPlantacion()})})}function calcularCostoPlantacion(){const e=document.querySelector("#tablaValorPlantacion #arbolesHa"),t=""===e.value?0:parseFloat(e.value),a=document.querySelector("#tablaValorPlantacion #costoArbol"),o=""===a.value?0:parseFloat(a.value),n=document.querySelector("#tablaValorTierra #totalSuperficeHas"),r=""===n.textContent?0:parseFloat(n.textContent);document.querySelector("#tablaValorPlantacion #costoPlantacion").textContent=convertirValorMonetario(t*o*r)}function almacenarDatosValorPlantacion(){const e=document.querySelectorAll("#tablaValorPlantacion input"),{valorPlantacion:t}=colecta,a=Object.keys(t);let o;for(let n=0;n<a.length;n++)o=a[n],t[o]=""===e[n].value?0:parseFloat(e[n].value)}function colectaActividadesProduccion(){const e=document.querySelectorAll("#tablaActividadesProduccion input");let t,a={nombreActividadProduccion:"",precioUnitario:0,actual:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaActividadesProduccion",a),colecta.actividadesProduccion=t})})}function colectaOtrosCostos(){document.querySelectorAll("#tablaOtrosCostos input").forEach(e=>{e.addEventListener("input",()=>{almacenarDatosOtrosCostos()})})}function almacenarDatosOtrosCostos(){const e=document.querySelector("#tablaOtrosCostos tbody"),t=e.rows.length;let a,o=[];for(let n=0;n<t;n++){let t={nombreOtroCosto:"",precioUnitario:0,total:0},r=Object.keys(t);for(let o=0;o<e.rows[n].cells.length;o++){const l=e.rows[n].cells[o].lastChild,i="number"===l.type?""===l.value?0:parseFloat(l.value):l.value;a=r[o],t[a]="text"===l.type?i:parseFloat(i)}o.push(t)}colecta.otrosCostos=o}function colectaCostoAnualEstablecimientoPlantacion(){const e=document.querySelectorAll("#tablaCostoAnualEstablecimientoPlantacion input");colocarNumeroAnio(),e.forEach(e=>{e.addEventListener("input",()=>{almacenarDatosCostoAnualEstablecimientoPlantacion(),operacionesValorPlantacion()})})}function almacenarDatosCostoAnualEstablecimientoPlantacion(){const e=document.querySelector("#tablaCostoAnualEstablecimientoPlantacion tbody"),t=e.rows.length;let a,o=[];for(let n=0;n<t;n++){let t={numAnio:n+1,total:0},r=Object.keys(t);for(let o=0;o<e.rows[n].cells.length;o++){const l=e.rows[n].cells[o].lastChild,i="number"===l.type?""===l.value?0:parseFloat(l.value):l.value;a=r[o],t[a]="text"===l.type?i:parseFloat(i)}o.push(t)}colecta.costoAnualesEstablecimientoPlantacion=o}function colocarNumeroAnio(){const e=document.querySelector("#tablaCostoAnualEstablecimientoPlantacion tbody"),t=e.rows.length;for(let a=0;a<t;a++){e.rows[a].cells[0].firstChild.value="AÃ±o "+(a+1)}}function operacionesValorPlantacion(){const e=document.querySelectorAll(".costoAnual"),t=document.querySelector("#tablaTotalActividadesProduccion #costoTotalEst"),a=document.querySelector("#tablaTotalActividadesProduccion #depreciacionAnual"),o=document.querySelector("#tablaTotalActividadesProduccion #depreciacionAnualHa"),n=document.querySelector("#tablaValorPlantacion #vidaUtil"),r=""===n.value?0:parseFloat(n.value),l=document.querySelector("#tablaValorTierra #totalSuperficeHas").textContent,i=parseFloat(l);let c=0;e.forEach(e=>{const a=""===e.value?0:parseFloat(e.value);c+=a,t.textContent=convertirValorMonetario(c)});const s=extraerCaracteresNumber(t.textContent);depreciacionAnualTotalValor=s/r,depreciacionAnualTotalValor=isFinite(depreciacionAnualTotalValor)?depreciacionAnualTotalValor:0,a.textContent=convertirValorMonetario(depreciacionAnualTotalValor),depreciacionAnualHasTotalValor=depreciacionAnualTotalValor/i,depreciacionAnualHasTotalValor=isFinite(depreciacionAnualHasTotalValor)?depreciacionAnualHasTotalValor:0,o.textContent=convertirValorMonetario(depreciacionAnualHasTotalValor)}function colectaConstrucciones(){const e=document.querySelectorAll("#tablaContrucciones input");let t,a={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaContrucciones",a),colecta.construcciones=t,operacionesOtrosActivosFijos("#tablaContrucciones")})})}function colectaVehiculos(){const e=document.querySelectorAll("#tablaVehiculos input");let t,a={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaVehiculos",a),colecta.vehiculos=t,operacionesOtrosActivosFijos("#tablaVehiculos")})})}function colectaImplementos(){const e=document.querySelectorAll("#tablaImplementos input");let t,a={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaImplementos",a),colecta.implementos=t,operacionesOtrosActivosFijos("#tablaImplementos")})})}function colectaEquiposComunicacion(){const e=document.querySelectorAll("#tablaEquiposComunicacion input");let t,a={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaEquiposComunicacion",a),colecta.equiposComunicacion=t,operacionesOtrosActivosFijos("#tablaEquiposComunicacion")})})}function colectaEquipos(){const e=document.querySelectorAll("#tablaEquipos input");let t,a={nombre:"",anioConstruccionAdquisicion:0,modelo:0,anioVidaUtil:0,depreciacionAnual:0,valorActualMercado:"",valorRecuperacion:""};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaEquipos",a),colecta.equipos=t,operacionesOtrosActivosFijos("#tablaEquipos")})})}function operacionesOtrosActivosFijos(e){sumaValorActualMercado(e),sumaValorRecuperacion(e),depreciacionAnual(e),sumadepreciacionAnual(e),totalValorActualMercado(),totalValorRecuperacion(),totalValorDepreciacionAnual()}function totalValorDepreciacionAnual(){let e=document.querySelector("#tablaTotales #totalDepreciacionAnual"),t=isNaN(document.querySelector("#tablaContrucciones #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaContrucciones #totalValorDepreciacionAnual").textContent):0,a=isNaN(document.querySelector("#tablaVehiculos #totalValorDepreciacionAnual").textContent)?extraerCaracteresNumber(document.querySelector("#tablaVehiculos #totalValorDepreciacionAnual").textContent):0,o=isNaN(document.querySelector("#tablaImplementos #totalValorDepreciacionAnual").textContent)?extraerCaracteresNumber(document.querySelector("#tablaImplementos #totalValorDepreciacionAnual").textContent):0,n=isNaN(document.querySelector("#tablaEquiposComunicacion #totalValorDepreciacionAnual").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquiposComunicacion #totalValorDepreciacionAnual").textContent):0,r=isNaN(document.querySelector("#tablaEquipos #totalValorDepreciacionAnual").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquipos #totalValorDepreciacionAnual").textContent):0;total=t+a+o+n+r,e.textContent=convertirValorMonetario(total)}function totalValorRecuperacion(){let e=document.querySelector("#tablaTotales #totalValorRecuperacion"),t=isNaN(document.querySelector("#tablaContrucciones #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaContrucciones #totalValorRecuperacion").textContent):0,a=isNaN(document.querySelector("#tablaVehiculos #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaVehiculos #totalValorRecuperacion").textContent):0,o=isNaN(document.querySelector("#tablaImplementos #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaImplementos #totalValorRecuperacion").textContent):0,n=isNaN(document.querySelector("#tablaEquiposComunicacion #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquiposComunicacion #totalValorRecuperacion").textContent):0,r=isNaN(document.querySelector("#tablaEquipos #totalValorRecuperacion").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquipos #totalValorRecuperacion").textContent):0;total=t+a+o+n+r,e.textContent=convertirValorMonetario(total)}function totalValorActualMercado(){let e=document.querySelector("#tablaTotales #totalValorActualMercado"),t=isNaN(document.querySelector("#tablaContrucciones #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaContrucciones #totalValorActualMercado").textContent):0,a=isNaN(document.querySelector("#tablaVehiculos #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaVehiculos #totalValorActualMercado").textContent):0,o=isNaN(document.querySelector("#tablaImplementos #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaImplementos #totalValorActualMercado").textContent):0,n=isNaN(document.querySelector("#tablaEquiposComunicacion #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquiposComunicacion #totalValorActualMercado").textContent):0,r=isNaN(document.querySelector("#tablaEquipos #totalValorActualMercado").textContent)?extraerCaracteresNumber(document.querySelector("#tablaEquipos #totalValorActualMercado").textContent):0;total=t+a+o+n+r,e.textContent=convertirValorMonetario(total)}function sumadepreciacionAnual(e){const t=document.querySelector(e).children[1],a=document.querySelector(e+" #totalValorDepreciacionAnual");let o=0;for(let e=0;e<t.rows.length;e++)depreciacionAnualRubro=t.rows[e].cells[7].textContent,valorFloat=extraerCaracteresNumber(depreciacionAnualRubro),o+=valorFloat;a.textContent=formatter.format(o)}function depreciacionAnual(e){const t=document.querySelector(e).children[1];for(let e=0;e<t.rows.length;e++){let a=t.rows[e].cells[7],o=t.rows[e].cells[4].firstChild;o=""===o.value?0:parseFloat(o.value);let n=.01*o,r=t.rows[e].cells[5].lastChild;r=""===r.value?0:parseFloat(r.value);let l=t.rows[e].cells[6].lastChild;l=""===l.value?0:parseFloat(l.value);let i=parseFloat((r-l)*n);a.textContent=convertirValorMonetario(i)}}function sumaValorRecuperacion(e){const t=document.querySelector(e+" #totalValorRecuperacion"),a=document.querySelectorAll(e+" .valorRecuperacion");let o=0;a.forEach(e=>{let t=""===e.value?0:parseFloat(e.value);o+=t}),t.innerHTML=convertirValorMonetario(o)}function sumaValorActualMercado(e){const t=document.querySelector(e+" #totalValorActualMercado"),a=document.querySelectorAll(e+" .valorActualMercado");let o=0;a.forEach(e=>{let t=""===e.value?0:parseFloat(e.value);o+=t}),t.innerHTML=convertirValorMonetario(o)}function colectaRepuestoHerramientas(){const e=document.querySelectorAll("#tablaRepuestoHerramientas input");let t,a={nombreHerramienta:"",cantidadHectarea:0,precioUnitario:0,vidaUtil:0,valorRepocicion:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaRepuestoHerramientas",a),colecta.repuestoHerramientas=t,operacionesRepuestoHerramientas()})})}function operacionesRepuestoHerramientas(){costoRepuestoHerramientas(),costoDepreciacionAnual(),costoTotalRepuestoHerramientas(),valorRepocicionTotalRepuestoHerramientas(),depreciacionAnualTotalRepuestoHerramientas()}function depreciacionAnualTotalRepuestoHerramientas(){const e=document.querySelector("#tablaRepuestoHerramientas #totalDepreciacionAnual");let t=sumarColumna("#tablaRepuestoHerramientas",6);e.textContent=convertirValorMonetario(t)}function valorRepocicionTotalRepuestoHerramientas(){const e=document.querySelector("#tablaRepuestoHerramientas #totalValorRepocicion");let t=sumarColumnaInputs("#tablaRepuestoHerramientas",5);e.textContent=convertirValorMonetario(t)}function costoTotalRepuestoHerramientas(){const e=document.querySelector("#tablaRepuestoHerramientas #totalCostoTotal");let t=sumarColumna("#tablaRepuestoHerramientas",3);e.textContent=convertirValorMonetario(t)}function costoDepreciacionAnual(){const e=document.querySelector("#tablaRepuestoHerramientas tbody");for(let t=0;t<e.rows.length;t++){const a=extraerCaracteresNumber(e.rows[t].cells[3].textContent),o=e.rows[t].cells[4].lastChild,n=""===o.value?0:parseFloat(o.value),r=e.rows[t].cells[5].lastChild;let l=(a-a*(""===r.value?0:parseFloat(r.value)))/n*12;l=isFinite(l)?l:0,e.rows[t].cells[6].textContent=convertirValorMonetario(l)}}function costoRepuestoHerramientas(){const e=document.querySelector("#tablaRepuestoHerramientas tbody");for(let t=0;t<e.rows.length;t++){const a=e.rows[t].cells[1].lastChild,o=""===a.value?0:parseFloat(a.value),n=e.rows[t].cells[2].lastChild,r=o*(""===n.value?0:parseFloat(n.value));e.rows[t].cells[3].textContent=convertirValorMonetario(r)}}function colectaFertilizanteGranular(){const e=document.querySelectorAll("#tablaFertilizantesGranular input");let t,a={nombreFertilizante:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaFertilizantesGranular",a),colecta.fertilizantesGranular=t,operacionesAgroquimicos("#tablaFertilizantesGranular")})})}function colectaFertilizanteFoliar(){const e=document.querySelectorAll("#tablaFertilizantesFoliar input");let t,a={nombreFertilizante:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaFertilizantesFoliar",a),colecta.fertilizantesFoliar=t,operacionesAgroquimicos("#tablaFertilizantesFoliar")})})}function colectaInsecticidas(){const e=document.querySelectorAll("#tablaInsecticidas input");let t,a={nombreInsecticida:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaInsecticidas",a),colecta.insecticidas=t,operacionesAgroquimicos("#tablaInsecticidas")})})}function colectaFungicidas(){const e=document.querySelectorAll("#tablaFungicidas input");let t,a={nombreFungicida:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaFungicidas",a),colecta.fungicidas=t,operacionesAgroquimicos("#tablaFungicidas")})})}function colectaHerbicidas(){const e=document.querySelectorAll("#tablaHerbicidas input");let t,a={nombreHerbicida:"",unidad:"",cantidadHa:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaHerbicidas",a),colecta.herbicidas=t,operacionesAgroquimicos("#tablaHerbicidas")})})}function colectaCombustiblesLubricantes(){const e=document.querySelectorAll("#tablaCombustiblesLubricantes input");let t,a={nombreCombustiblesLubricantes:"",litros:0,precioUnitario:0,costo:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaCombustiblesLubricantes",a),colecta.combustiblesLubricantes=t,operacionesCombustiblesLubricantes()})})}function operacionesCombustiblesLubricantes(){costoMesCombustiblesLubricantes(),costoAnualCombustiblesLubricantes(),totalCombustiblesLubricantes()}function operacionesAgroquimicos(e){costoTotalAgroquimico(e),subtotalAgroquimicosFertilizantes(),subtotalAgroquimicosOtrosInsecticidas(),totalAgroquimicos()}function costoAnualCombustiblesLubricantes(){const e=document.querySelector("#tablaCombustiblesLubricantes tbody");for(let t=0;t<e.rows.length;t++){let a=e.rows[t].cells[3].textContent;a=extraerCaracteresNumber(a);let o=12*a;e.rows[t].cells[4].textContent=convertirValorMonetario(o)}}function costoMesCombustiblesLubricantes(){const e=document.querySelector("#tablaCombustiblesLubricantes tbody");for(let t=0;t<e.rows.length;t++){let a=e.rows[t].cells[1].lastChild;a=""===a.value?0:parseFloat(a.value);let o=e.rows[t].cells[2].lastChild;o=""===o.value?0:parseFloat(o.value);let n=o*a;e.rows[t].cells[3].textContent=convertirValorMonetario(n)}}function totalCombustiblesLubricantes(){const e=document.querySelector("#totalCombustiblesLubricantes"),t=sumarColumna("#tablaCombustiblesLubricantes",4);e.textContent=convertirValorMonetario(t)}function totalAgroquimicos(){const e=document.querySelector("#totalCostoAgroquimicos"),t=extraerCaracteresNumber(document.querySelector("#subtotalFertilizantes").textContent),a=extraerCaracteresNumber(document.querySelector("#subtotalPesticidasControBiologicoOtros").textContent);e.textContent=convertirValorMonetario(t+a)}function subtotalAgroquimicosOtrosInsecticidas(){const e=sumarColumna("#tablaInsecticidas",4),t=sumarColumna("#tablaFungicidas",4),a=sumarColumna("#tablaHerbicidas",4);document.querySelector("#tablaHerbicidas #subtotalPesticidasControBiologicoOtros").textContent=convertirValorMonetario(e+t+a)}function subtotalAgroquimicosFertilizantes(){const e=sumarColumna("#tablaFertilizantesGranular",4),t=sumarColumna("#tablaFertilizantesFoliar",4);document.querySelector("#tablaFertilizantesFoliar #subtotalFertilizantes").textContent=convertirValorMonetario(e+t)}function costoTotalAgroquimico(e){const t=document.querySelector(e+" tbody"),a=getTotalSuperficie();for(let e=0;e<t.rows.length;e++){let o=t.rows[e].cells[2].lastChild;o=""===o.value?0:parseFloat(o.value);let n=t.rows[e].cells[3].lastChild;n=""===n.value?0:parseFloat(n.value);let r=a*n*o;t.rows[e].cells[4].textContent=convertirValorMonetario(r)}}function colectaMantenimientoReparaciones(){const e=document.querySelectorAll("#tablaMantenimientoReparaciones input");let t,a={nombreMantenimietoReparacion:"",unidades:0,precioUnitario:0,costoMes:0,costoAnual:0,porcenajeUso:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaMantenimientoReparaciones",a),colecta.mantenimientosReparaciones=t,operacionesMantenimientoReparaciones()})})}function operacionesMantenimientoReparaciones(){totalCostoActualMantenimientoReparaciones()}function totalCostoActualMantenimientoReparaciones(){const e=sumarColumnaInputs("#tablaMantenimientoReparaciones",4);document.querySelector("#totalMantenimientoReparaciones").textContent=convertirValorMonetario(e)}function colectaCostosCosecha(){const e=document.querySelectorAll("#tablaCostosCosecha input");let t,a={nombreProducto:"",unidades:"",cantidad:0,precioUnitario:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaCostosCosecha",a),colecta.costosCosecha=t,operacionesCostosCosecha()})})}function operacionesCostosCosecha(){operacionCostoCosechaUrp(),totalCostoCosechaUrp()}function totalCostoCosechaUrp(){const e=document.querySelector("#totalComercializacionProduccion"),t=sumarColumna("#tablaCostosCosecha",4);e.textContent=convertirValorMonetario(t)}function operacionCostoCosechaUrp(){const e=document.querySelector("#tablaCostosCosecha tbody");for(let t=0;t<e.rows.length;t++){let a=e.rows[t].cells[2].lastChild;a=""===a.value?0:parseFloat(a.value);let o=e.rows[t].cells[3].lastChild;o=""===o.value?0:parseFloat(o.value);let n=o*a*12;e.rows[t].cells[4].textContent=convertirValorMonetario(n)}}function colectaManoObraContratada(){const e=document.querySelectorAll("#tablaManoObraContratada input");let t,a={labor:"",cantidadJornales:"",precioJornal:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaManoObraContratada",a),colecta.manoObraContratada=t,operacionesManoObra("#tablaManoObraContratada")})})}function colectaManoObraFamiliar(){const e=document.querySelectorAll("#tablaManoObraFamiliar input");let t,a={labor:"",cantidadJornales:"",precioJornal:0};e.forEach(e=>{e.addEventListener("input",()=>{t=almacenarObjeto("#tablaManoObraFamiliar",a),colecta.manoObraFamiliar=t,operacionesManoObra("#tablaManoObraFamiliar")})})}function operacionesManoObra(e){costoTotalUrpAnioManoObra(e),subtotalCostoTotalUrpAnioManoObra(e),costoHaAnioManoObra(e),subtotalCostoHaAnioManoObra(e),subtotalJornalesTotalesManoObra(e),jornalesTotalesManoObraContratada()}function costoTotalUrpAnioManoObra(e){const t=document.querySelector(e+" tbody"),a=getTotalSuperficie();for(let e=0;e<t.rows.length;e++){let o=t.rows[e].cells[1].lastChild;o=""===o.value?0:parseFloat(o.value);let n=t.rows[e].cells[2].lastChild;n=""===n.value?0:parseFloat(n.value);let r=a*o*n;t.rows[e].cells[3].textContent=convertirValorMonetario(r)}}function subtotalCostoTotalUrpAnioManoObra(e){const t=sumarColumna(e,3);document.querySelector(e+" #subtotalCostoTotalUrpAnio").textContent=convertirValorMonetario(t)}function costoHaAnioManoObra(e){const t=document.querySelector(e+" tbody"),a=getTotalSuperficie();for(let e=0;e<t.rows.length;e++){let o=t.rows[e].cells[3].textContent;o=extraerCaracteresNumber(o);let n=o/a;n=isNaN(n)?0:n,t.rows[e].cells[4].textContent=convertirValorMonetario(n)}}function subtotalCostoHaAnioManoObra(e){const t=sumarColumna(e,4);document.querySelector(e+" #subtotalCostoHaAnio").textContent=convertirValorMonetario(t)}function subtotalJornalesTotalesManoObra(e){const t=sumarColumnaInputs(e,1);document.querySelector(e+" #subtotalCantidadJornales").textContent=t}function jornalesTotalesManoObraContratada(){const e=getTotalSuperficie(),t=extraerCaracteresNumber(document.querySelector("#subtotalCantidadJornales").textContent);document.querySelector("#joranesTotalesUrp").textContent=e*t}document.addEventListener("DOMContentLoaded",()=>{colectaArbol(),colectaPatronCultivos(),colectaSuperficeUrp(),colectaValorTierra(),colectaValorPlantacion(),colectaActividadesProduccion(),colectaOtrosCostos(),colectaCostoAnualEstablecimientoPlantacion(),colectaConstrucciones(),colectaVehiculos(),colectaImplementos(),colectaEquiposComunicacion(),colectaEquipos(),colectaRepuestoHerramientas(),colectaFertilizanteGranular(),colectaFertilizanteFoliar(),colectaInsecticidas(),colectaFungicidas(),colectaHerbicidas(),colectaCombustiblesLubricantes(),colectaMantenimientoReparaciones(),colectaCostosCosecha(),colectaManoObraContratada(),colectaManoObraFamiliar(),inputsOperaciones()});const botonAgregarFilaVariedadArboles=document.querySelector("#nuevaFilaVariedad");function filaVariedadArboles(){const e=document.querySelector("#tablaVariedadArboles").children[1],t=document.createElement("TR"),a=document.createElement("TD"),o=document.createElement("TD"),n=document.createElement("TD"),r=document.createElement("INPUT"),l=document.createElement("INPUT");r.setAttribute("type","text"),r.setAttribute("required",""),l.setAttribute("type","number"),l.setAttribute("required",""),n.classList.add("total"),a.appendChild(r),o.appendChild(l),t.appendChild(a),t.appendChild(o),t.appendChild(n),e.appendChild(t),colectaArbol(),actualizarOperaciones()}botonAgregarFilaVariedadArboles.addEventListener("click",()=>{filaVariedadArboles()});const botonEliminarFilaVariedad=document.querySelector("#eliminarFilaVariedad");botonEliminarFilaVariedad.addEventListener("click",()=>{eliminarUltimaFila("#tablaVariedadArboles",colecta.arboles,operacionesArboles)});const botonNuevaFilaActividadesProduccion=document.querySelector("#nuevaFilaActividadesProduccion"),botonNuevaFilaOtosCostos=document.querySelector("#nuevaFilaOtosCostos");function filaActividadesProduccion(e,t){const a=document.querySelector(e).children[1],o=document.createElement("TR"),n=document.createElement("TD"),r=document.createElement("TD"),l=document.createElement("TD"),i=document.createElement("INPUT"),c=document.createElement("INPUT"),s=document.createElement("INPUT");r.classList.add("etiqueta"),l.classList.add("etiqueta"),i.setAttribute("type","text"),i.setAttribute("placeholder","Escribe el nombre"),i.setAttribute("required",""),c.setAttribute("type","number"),s.setAttribute("type","number"),n.appendChild(i),r.innerHTML+="<span>$</span>",r.appendChild(c),l.innerHTML+="<span>$</span>",l.appendChild(s),o.appendChild(n),o.appendChild(r),o.appendChild(l),a.appendChild(o),t(),actualizarOperaciones()}botonNuevaFilaActividadesProduccion.addEventListener("click",()=>{filaActividadesProduccion("#tablaActividadesProduccion",colectaActividadesProduccion)}),botonNuevaFilaOtosCostos.addEventListener("click",()=>{filaActividadesProduccion("#tablaOtrosCostos",colectaOtrosCostos)});const botonEliminarFilaActividadesProduccion=document.querySelector("#eliminarFilaActividadesProduccion"),botonEliminarFilaOtosCostos=document.querySelector("#eliminarFilaOtosCostos");botonEliminarFilaActividadesProduccion.addEventListener("click",()=>{eliminarUltimaFila("#tablaActividadesProduccion",colecta.actividadesProduccion,colectaActividadesProduccion)}),botonEliminarFilaOtosCostos.addEventListener("click",()=>{eliminarUltimaFila("#tablaOtrosCostos",colecta.otrosCostos,almacenarDatosOtrosCostos)});const botonNuevaFilaCostoAnualEstablecimientoPlantacion=document.querySelector("#nuevaFilaCostoAnualEstablecimientoPlantacion");function filaCostoAnualEstablecimientoPlantacion(e,t){const a=document.querySelector(e).children[1],o=document.createElement("TR"),n=document.createElement("TD"),r=document.createElement("TD"),l=document.createElement("INPUT"),i=document.createElement("INPUT");r.classList.add("etiqueta"),l.setAttribute("type","text"),l.setAttribute("required",""),i.setAttribute("type","number"),i.classList.add("costoAnual"),n.appendChild(l),r.innerHTML+="<span>$</span>",r.appendChild(i),o.appendChild(n),o.appendChild(r),a.appendChild(o),t(),colocarNumeroAnio(),actualizarOperaciones()}botonNuevaFilaCostoAnualEstablecimientoPlantacion.addEventListener("click",()=>{filaCostoAnualEstablecimientoPlantacion("#tablaCostoAnualEstablecimientoPlantacion",colectaCostoAnualEstablecimientoPlantacion)});const botonEliminarFilaCostoAnualEstablecimientoPlantacion=document.querySelector("#eliminarFilaCostoAnualEstablecimientoPlantacion");botonEliminarFilaCostoAnualEstablecimientoPlantacion.addEventListener("click",()=>{eliminarUltimaFila("#tablaCostoAnualEstablecimientoPlantacion",colecta.costoAnualesEstablecimientoPlantacion,colectaCostoAnualEstablecimientoPlantacion,operacionesValorPlantacion)});const botonNuevaFilaContrucciones=document.querySelector("#nuevaFilaContrucciones"),botonNuevaFilaVehiculos=document.querySelector("#nuevaFilaVehiculos"),botonNuevaFilaImplementos=document.querySelector("#nuevaFilaImplementos"),botonNuevaFilaEquipoComunicacion=document.querySelector("#nuevaFilaEquipoComunicacion"),botonNuevaFilaEquipo=document.querySelector("#nuevaFilaEquipo");function filaOtrosActivosFijos(e,t){const a=document.querySelector(e).children[1],o=document.createElement("TR"),n=document.createElement("TD"),r=document.createElement("TD"),l=document.createElement("TD"),i=document.createElement("TD"),c=document.createElement("TD");c.classList.add("etiqueta","porcentaje");const s=document.createElement("TD");s.classList.add("etiqueta");const u=document.createElement("TD");u.classList.add("etiqueta");const d=document.createElement("TD");d.classList.add("valorDepreciacionAnual");const m=document.createElement("INPUT"),p=document.createElement("INPUT"),b=document.createElement("INPUT"),C=document.createElement("INPUT"),v=document.createElement("INPUT"),A=document.createElement("INPUT"),F=document.createElement("INPUT");m.setAttribute("type","text"),m.setAttribute("placeholder","Escribe el nombre"),m.setAttribute("required",""),p.setAttribute("type","number"),p.setAttribute("placeholder","Ej. 2012"),b.setAttribute("type","number"),b.setAttribute("required",""),"#tablaContrucciones"!==e&&b.setAttribute("placeholder","Ej. 2012"),C.setAttribute("type","number"),C.setAttribute("required",""),"#tablaContrucciones"===e&&(C.value=0),v.setAttribute("type","number"),"#tablaContrucciones"===e&&v.setAttribute("disabled",""),"#tablaContrucciones"===e&&(v.value=0),A.setAttribute("type","number"),A.classList.add("valorActualMercado"),F.setAttribute("type","number"),F.classList.add("valorRecuperacion");const q=document.createElement("SPAN");q.innerHTML="<span>%</span>",n.appendChild(m),r.appendChild(p),l.appendChild(b),i.appendChild(C),c.appendChild(v),c.appendChild(q),s.innerHTML+="<span>$</span>",s.appendChild(A),u.innerHTML+="<span>$</span>",u.appendChild(F),o.appendChild(n),o.appendChild(r),o.appendChild(l),o.appendChild(i),o.appendChild(c),o.appendChild(s),o.appendChild(u),o.appendChild(d),a.appendChild(o),t(),actualizarOperaciones()}botonNuevaFilaContrucciones.addEventListener("click",()=>{filaOtrosActivosFijos("#tablaContrucciones",colectaConstrucciones)}),botonNuevaFilaVehiculos.addEventListener("click",()=>{filaOtrosActivosFijos("#tablaVehiculos",colectaVehiculos)}),botonNuevaFilaImplementos.addEventListener("click",()=>{filaOtrosActivosFijos("#tablaImplementos",colectaImplementos)}),botonNuevaFilaEquipoComunicacion.addEventListener("click",()=>{filaOtrosActivosFijos("#tablaEquiposComunicacion",colectaEquiposComunicacion)}),botonNuevaFilaEquipo.addEventListener("click",()=>{filaOtrosActivosFijos("#tablaEquipos",colectaEquipos)});const botonEliminarFilaConstruccion=document.querySelector("#eliminarFilaContrucciones"),botonEliminarFilaVehiculos=document.querySelector("#eliminarFilaVehiculos"),botonEliminarFilaImplementos=document.querySelector("#eliminarFilaImplementos"),botonEliminarFilaEquipoComunicacion=document.querySelector("#eliminarFilaEquipoComunicacion"),botonEliminarFilaEquipo=document.querySelector("#eliminarFilaEquipo");botonEliminarFilaConstruccion.addEventListener("click",()=>{eliminarUltimaFila("#tablaContrucciones",colecta.construcciones,funcion=null,operacionesOtrosActivosFijos)}),botonEliminarFilaVehiculos.addEventListener("click",()=>{eliminarUltimaFila("#tablaVehiculos",colecta.vehiculos,funcion=null,operacionesOtrosActivosFijos)}),botonEliminarFilaImplementos.addEventListener("click",()=>{eliminarUltimaFila("#tablaImplementos",colecta.implementos,funcion=null,operacionesOtrosActivosFijos)}),botonEliminarFilaEquipoComunicacion.addEventListener("click",()=>{eliminarUltimaFila("#tablaEquiposComunicacion",colecta.equiposComunicacion,funcion=null,operacionesOtrosActivosFijos)}),botonEliminarFilaEquipo.addEventListener("click",()=>{eliminarUltimaFila("#tablaEquipos",colecta.equipos,funcion=null,operacionesOtrosActivosFijos)});const botonNuevaFilaRepuestoHerramientas=document.querySelector("#nuevaFilaRepuestoHerramientas");function filaRepuestoHerramientas(e,t){const a=document.querySelector(e+" tbody"),o=document.createElement("TR"),n=document.createElement("TD"),r=document.createElement("TD"),l=document.createElement("TD"),i=document.createElement("TD"),c=document.createElement("TD"),s=document.createElement("TD"),u=document.createElement("TD"),d=document.createElement("INPUT"),m=document.createElement("INPUT"),p=document.createElement("INPUT"),b=document.createElement("INPUT"),C=document.createElement("INPUT");d.setAttribute("type","text"),d.setAttribute("required",""),m.setAttribute("type","number"),p.setAttribute("type","number"),b.setAttribute("type","number"),C.setAttribute("type","number"),n.appendChild(d),r.innerHTML+="<span>$</span>",r.appendChild(m),l.innerHTML+="<span>$</span>",l.appendChild(p),c.innerHTML+="<span>$</span>",c.appendChild(b),s.innerHTML+="<span>$</span>",s.appendChild(C),o.appendChild(n),o.appendChild(r),o.appendChild(l),o.appendChild(i),o.appendChild(c),o.appendChild(s),o.appendChild(u),a.appendChild(o),t(),actualizarOperaciones()}botonNuevaFilaRepuestoHerramientas.addEventListener("click",()=>{filaRepuestoHerramientas("#tablaRepuestoHerramientas",colectaRepuestoHerramientas)});const botonEliminarFilaRepuestoHerramientas=document.querySelector("#eliminarFilaRepuestoHerramientas");botonEliminarFilaRepuestoHerramientas.addEventListener("click",()=>{eliminarUltimaFila("#tablaRepuestoHerramientas",colecta.repuestoHerramientas,colectaRepuestoHerramientas,operacionesRepuestoHerramientas)});const botonNuevaFilaAgroquimicosGranular=document.querySelector("#nuevaFilaAgroquimicosGranular"),botonNuevaFilaAgroquimicosFoliar=document.querySelector("#nuevaFilaAgroquimicosFoliar"),botonNuevaFilaInsecticidas=document.querySelector("#nuevaFilaInsecticidas"),botonNuevaFilaFungicidas=document.querySelector("#nuevaFilaFungicidas"),botonNuevaFilaHerbicidas=document.querySelector("#nuevaFilaHerbicidas"),botonNuevaFilaCombustiblesLubricantes=document.querySelector("#nuevaFilaCombustiblesLubricantes");function filaCostoAgroquimico(e,t){const a=document.querySelector(e+" tbody"),o=document.createElement("TR"),n=document.createElement("TD"),r=document.createElement("TD"),l=document.createElement("TD"),i=document.createElement("TD"),c=document.createElement("TD"),s=document.createElement("INPUT"),u=document.createElement("INPUT"),d=document.createElement("INPUT"),m=document.createElement("INPUT");s.setAttribute("type","text"),s.setAttribute("required",""),"#tablaCombustiblesLubricantes"===e?u.setAttribute("type","number"):u.setAttribute("type","text"),u.setAttribute("required",""),d.setAttribute("type","number"),m.setAttribute("type","number"),n.appendChild(s),r.appendChild(u),"#tablaCombustiblesLubricantes"===e&&(l.innerHTML+="<span>$</span>"),l.appendChild(d),"#tablaCombustiblesLubricantes"!==e&&(i.innerHTML+="<span>$</span>",i.appendChild(m)),o.appendChild(n),o.appendChild(r),o.appendChild(l),o.appendChild(i),o.appendChild(c),a.appendChild(o),t(),actualizarOperaciones()}botonNuevaFilaAgroquimicosGranular.addEventListener("click",()=>{filaCostoAgroquimico("#tablaFertilizantesGranular",colectaFertilizanteGranular)}),botonNuevaFilaAgroquimicosFoliar.addEventListener("click",()=>{filaCostoAgroquimico("#tablaFertilizantesFoliar",colectaFertilizanteFoliar)}),botonNuevaFilaInsecticidas.addEventListener("click",()=>{filaCostoAgroquimico("#tablaInsecticidas",colectaInsecticidas)}),botonNuevaFilaFungicidas.addEventListener("click",()=>{filaCostoAgroquimico("#tablaFungicidas",colectaFungicidas)}),botonNuevaFilaHerbicidas.addEventListener("click",()=>{filaCostoAgroquimico("#tablaHerbicidas",colectaHerbicidas)}),botonNuevaFilaCombustiblesLubricantes.addEventListener("click",()=>{filaCostoAgroquimico("#tablaCombustiblesLubricantes",colectaCombustiblesLubricantes)});const botonEliminarFilaAgroquimicosGranular=document.querySelector("#eliminarFilaAgroquimicosGranular"),botonEliminarFilaAgroquimicosFoliar=document.querySelector("#eliminarFilaAgroquimicosFoliar"),botonEliminarFilaInsecticidas=document.querySelector("#eliminarFilaInsecticidas"),botonEliminarFilaFungicidas=document.querySelector("#eliminarFilaFungicidas"),botonEliminarFilaHerbicidas=document.querySelector("#eliminarFilaHerbicidas"),botonEliminarFilaCombustiblesLubricantes=document.querySelector("#eliminarFilaCombustiblesLubricantes");botonEliminarFilaAgroquimicosGranular.addEventListener("click",()=>{eliminarUltimaFila("#tablaFertilizantesGranular",colecta.fertilizantesGranular,colectaFertilizanteGranular)}),botonEliminarFilaAgroquimicosFoliar.addEventListener("click",()=>{eliminarUltimaFila("#tablaFertilizantesFoliar",colecta.fertilizantesFoliar,colectaFertilizanteFoliar)}),botonEliminarFilaInsecticidas.addEventListener("click",()=>{eliminarUltimaFila("#tablaInsecticidas",colecta.insecticidas,colectaInsecticidas)}),botonEliminarFilaFungicidas.addEventListener("click",()=>{eliminarUltimaFila("#tablaFungicidas",colecta.fungicidas,colectaFungicidas)}),botonEliminarFilaHerbicidas.addEventListener("click",()=>{eliminarUltimaFila("#tablaHerbicidas",colecta.herbicidas,colectaHerbicidas)}),botonEliminarFilaCombustiblesLubricantes.addEventListener("click",()=>{eliminarUltimaFila("#tablaCombustiblesLubricantes",colecta.combustiblesLubricantes,colectaCombustiblesLubricantes)});const botonNuevaFilaMantenimientoReparaciones=document.querySelector("#nuevaFilaMantenimientoReparaciones");function filaMantenimientoReparaciones(e,t){const a=document.querySelector(e+" tbody"),o=document.createElement("TR"),n=document.createElement("TD"),r=document.createElement("TD"),l=document.createElement("TD"),i=document.createElement("TD"),c=document.createElement("TD"),s=document.createElement("TD"),u=document.createElement("INPUT"),d=document.createElement("INPUT"),m=document.createElement("INPUT"),p=document.createElement("INPUT"),b=document.createElement("INPUT"),C=document.createElement("INPUT");u.setAttribute("type","text"),u.setAttribute("required",""),d.setAttribute("type","number"),u.setAttribute("required",""),m.setAttribute("type","number"),p.setAttribute("type","number"),b.setAttribute("type","number"),C.setAttribute("type","number"),n.appendChild(u),r.appendChild(d),l.innerHTML+="<span>$</span>",l.appendChild(m),i.innerHTML+="<span>$</span>",i.appendChild(p),c.innerHTML+="<span>$</span>",c.appendChild(b),s.innerHTML+="<span>$</span>",s.appendChild(C),o.appendChild(n),o.appendChild(r),o.appendChild(l),o.appendChild(i),o.appendChild(c),o.appendChild(s),a.appendChild(o),t(),actualizarOperaciones()}botonNuevaFilaMantenimientoReparaciones.addEventListener("click",()=>{filaMantenimientoReparaciones("#tablaMantenimientoReparaciones",colectaMantenimientoReparaciones)});const botonEliminarFilaMantenimientoReparaciones=document.querySelector("#eliminarFilaMantenimientoReparaciones");botonEliminarFilaMantenimientoReparaciones.addEventListener("click",()=>{eliminarUltimaFila("#tablaMantenimientoReparaciones",colecta.mantenimientosReparaciones,colectaMantenimientoReparaciones)});const botonNuevaFilaCostosCosecha=document.querySelector("#nuevaFilaCostosCosecha");botonNuevaFilaCostosCosecha.addEventListener("click",()=>{filaCostoAgroquimico("#tablaCostosCosecha",colectaCostosCosecha)});const botonEliminarFilaCostosCosecha=document.querySelector("#eliminarFilaCostosCosecha");botonEliminarFilaCostosCosecha.addEventListener("click",()=>{eliminarUltimaFila("#tablaCostosCosecha",colecta.costosCosecha,colectaCostosCosecha)});const botonNuevaFilaManoObraContratada=document.querySelector("#nuevaFilaManoObraContratada"),botonNuevaFilaManoObraFamiliar=document.querySelector("#nuevaFilaManoObraFamiliar");function filaManoObra(e,t){const a=document.querySelector(e+" tbody"),o=document.createElement("TR"),n=document.createElement("TD"),r=document.createElement("TD"),l=document.createElement("TD"),i=document.createElement("TD"),c=document.createElement("TD"),s=document.createElement("INPUT"),u=document.createElement("INPUT"),d=document.createElement("INPUT");s.setAttribute("type","text"),s.setAttribute("required",""),u.setAttribute("type","number"),u.setAttribute("required",""),d.setAttribute("type","number"),n.appendChild(s),r.appendChild(u),l.innerHTML+="<span>$</span>",l.appendChild(d),o.appendChild(n),o.appendChild(r),o.appendChild(l),o.appendChild(i),o.appendChild(c),a.appendChild(o),t(),actualizarOperaciones()}botonNuevaFilaManoObraFamiliar.addEventListener("click",()=>{filaManoObra("#tablaManoObraFamiliar",colectaManoObraFamiliar)}),botonNuevaFilaManoObraContratada.addEventListener("click",()=>{filaManoObra("#tablaManoObraContratada",colectaManoObraContratada)});const botonEliminarFilaManoObraContratada=document.querySelector("#eliminarFilaManoObraContratada"),botonEliminarFilaManoObraFamiliar=document.querySelector("#eliminarFilaManoObraFamiliar");function sumarColumnaInputs(e,t){const a=document.querySelector(e+" tbody");let o=0;for(let e=0;e<a.rows.length;e++){let n=a.rows[e].cells[t];n="INPUT"===n.firstChild.tagName?n.firstChild:n.lastChild;o+=""===n.value?0:parseFloat(n.value)}return o}function sumarColumna(e,t){const a=document.querySelector(e+" tbody");let o=0;for(let e=0;e<a.rows.length;e++){const n=a.rows[e].cells[t];o+=""===n.textContent?0:extraerCaracteresNumber(n.textContent)}return o}function dividirPorcentaje(e,t,a){const o=document.querySelector(e+" tbody");for(let n=0;n<o.rows.length;n++)for(let r=a;r<o.rows[n].cells.length;r++){const l=sumarColumnaInputs(e,t),i=o.rows[n].cells[r-1].firstChild,c=(""===i.value?0:parseFloat(i.value))/l*100,s=isNaN(c)?0:c.toFixed(2);o.rows[n].cells[a].innerHTML=`<span>${s}%</span>`}}botonEliminarFilaManoObraFamiliar.addEventListener("click",()=>{eliminarUltimaFila("#tablaManoObraFamiliar",colecta.manoObraFamiliar,colectaManoObraFamiliar)}),botonEliminarFilaManoObraContratada.addEventListener("click",()=>{eliminarUltimaFila("#tablaManoObraContratada",colecta.manoObraContratada,colectaManoObraContratada)});const formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function extraerCaracteresNumber(e){let t=e.replaceAll(",","").replaceAll("$","");return parseFloat(t)}function convertirValorMonetario(e){return formatter.format(e)}function almacenarObjeto(e,t){const a=document.querySelector(e+" tbody"),o=a.rows.length;let n,r=[],l=Object.keys(t);for(let e=0;e<o;e++){t={};let o=0;for(let r=0;r<a.rows[e].cells.length;r++){let i=a.rows[e].cells[r].lastChild;if(i=i&&"INPUT"===i.tagName?i:a.rows[e].cells[r].firstChild,null!==i&&"INPUT"===i.tagName){const e="number"===i.type?""===i.value?0:parseFloat(i.value):i.value;n=l[o],t[n]="text"===i.type?e:parseFloat(e),o++}}r.push(t)}return console.log(colecta),r}function eliminarUltimaFila(e,t,a=null,o=null){const n=document.querySelector(e).children[1],r=n.rows.length-1,l=n.children[r];n.children.length>1&&(l.remove(),t.pop()),a&&a(e),actualizarOperaciones(),console.log(colecta)}function getTotalSuperficie(){let e=document.querySelector("#tablaValorTierra #totalSuperficeHas");return totalSuperficeHas=""===e.textContent?0:parseFloat(e.textContent),totalSuperficeHas}function inputsOperaciones(){document.querySelectorAll("input[type='number']").forEach(e=>{e.addEventListener("input",()=>{actualizarOperaciones()})})}function actualizarOperaciones(){operacionesArboles(),mostrarSumatoriaPatronCultivos(),operacionesSuperficieUrp(),operacionesValorTierra(),calcularCostoPlantacion(),operacionesValorPlantacion(),operacionesOtrosActivosFijos("#tablaContrucciones"),operacionesOtrosActivosFijos("#tablaVehiculos"),operacionesOtrosActivosFijos("#tablaImplementos"),operacionesOtrosActivosFijos("#tablaEquiposComunicacion"),operacionesOtrosActivosFijos("#tablaEquipos"),operacionesRepuestoHerramientas(),operacionesAgroquimicos("#tablaFertilizantesGranular"),operacionesAgroquimicos("#tablaFertilizantesFoliar"),operacionesAgroquimicos("#tablaInsecticidas"),operacionesAgroquimicos("#tablaHerbicidas"),operacionesAgroquimicos("#tablaFungicidas"),operacionesCombustiblesLubricantes(),operacionesCostosCosecha(),operacionesManoObra("#tablaManoObraContratada"),operacionesManoObra("#tablaManoObraFamiliar")}